"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/wagmi";
exports.ids = ["vendor-chunks/wagmi"];
exports.modules = {

/***/ "(ssr)/./node_modules/wagmi/dist/index.js":
/*!******************************************!*\
  !*** ./node_modules/wagmi/dist/index.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChainMismatchError: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.ChainMismatchError),\n/* harmony export */   ChainNotConfiguredError: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.ChainNotConfiguredError),\n/* harmony export */   ConfigChainsNotFound: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.ConfigChainsNotFound),\n/* harmony export */   Connector: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_15__.Connector),\n/* harmony export */   ConnectorAlreadyConnectedError: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.ConnectorAlreadyConnectedError),\n/* harmony export */   ConnectorNotFoundError: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_16__.ConnectorNotFoundError),\n/* harmony export */   Context: () => (/* binding */ Context),\n/* harmony export */   SwitchChainNotSupportedError: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.SwitchChainNotSupportedError),\n/* harmony export */   WagmiConfig: () => (/* binding */ WagmiConfig),\n/* harmony export */   configureChains: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.configureChains),\n/* harmony export */   createConfig: () => (/* binding */ createConfig),\n/* harmony export */   createStorage: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.createStorage),\n/* harmony export */   deepEqual: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.deepEqual),\n/* harmony export */   deserialize: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.deserialize),\n/* harmony export */   erc20ABI: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.erc20ABI),\n/* harmony export */   erc4626ABI: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.erc4626ABI),\n/* harmony export */   erc721ABI: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.erc721ABI),\n/* harmony export */   mainnet: () => (/* reexport safe */ viem_chains__WEBPACK_IMPORTED_MODULE_17__.mainnet),\n/* harmony export */   paginatedIndexesConfig: () => (/* binding */ paginatedIndexesConfig),\n/* harmony export */   readContracts: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.readContracts),\n/* harmony export */   sepolia: () => (/* reexport safe */ viem_chains__WEBPACK_IMPORTED_MODULE_18__.sepolia),\n/* harmony export */   serialize: () => (/* reexport safe */ _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.serialize),\n/* harmony export */   useAccount: () => (/* binding */ useAccount),\n/* harmony export */   useBalance: () => (/* binding */ useBalance),\n/* harmony export */   useBlockNumber: () => (/* binding */ useBlockNumber),\n/* harmony export */   useChainId: () => (/* binding */ useChainId),\n/* harmony export */   useConfig: () => (/* binding */ useConfig),\n/* harmony export */   useConnect: () => (/* binding */ useConnect),\n/* harmony export */   useContractEvent: () => (/* binding */ useContractEvent),\n/* harmony export */   useContractInfiniteReads: () => (/* binding */ useContractInfiniteReads),\n/* harmony export */   useContractRead: () => (/* binding */ useContractRead),\n/* harmony export */   useContractReads: () => (/* binding */ useContractReads),\n/* harmony export */   useContractWrite: () => (/* binding */ useContractWrite),\n/* harmony export */   useDisconnect: () => (/* binding */ useDisconnect),\n/* harmony export */   useEnsAddress: () => (/* binding */ useEnsAddress),\n/* harmony export */   useEnsAvatar: () => (/* binding */ useEnsAvatar),\n/* harmony export */   useEnsName: () => (/* binding */ useEnsName),\n/* harmony export */   useEnsResolver: () => (/* binding */ useEnsResolver),\n/* harmony export */   useFeeData: () => (/* binding */ useFeeData),\n/* harmony export */   useInfiniteQuery: () => (/* binding */ useInfiniteQuery),\n/* harmony export */   useMutation: () => (/* binding */ useMutation),\n/* harmony export */   useNetwork: () => (/* binding */ useNetwork),\n/* harmony export */   usePrepareContractWrite: () => (/* binding */ usePrepareContractWrite),\n/* harmony export */   usePrepareSendTransaction: () => (/* binding */ usePrepareSendTransaction),\n/* harmony export */   usePublicClient: () => (/* binding */ usePublicClient),\n/* harmony export */   useQuery: () => (/* binding */ useQuery),\n/* harmony export */   useQueryClient: () => (/* binding */ useQueryClient2),\n/* harmony export */   useSendTransaction: () => (/* binding */ useSendTransaction),\n/* harmony export */   useSignMessage: () => (/* binding */ useSignMessage),\n/* harmony export */   useSignTypedData: () => (/* binding */ useSignTypedData),\n/* harmony export */   useSwitchNetwork: () => (/* binding */ useSwitchNetwork),\n/* harmony export */   useToken: () => (/* binding */ useToken),\n/* harmony export */   useTransaction: () => (/* binding */ useTransaction),\n/* harmony export */   useWaitForTransaction: () => (/* binding */ useWaitForTransaction),\n/* harmony export */   useWalletClient: () => (/* binding */ useWalletClient),\n/* harmony export */   useWatchPendingTransactions: () => (/* binding */ useWatchPendingTransactions),\n/* harmony export */   useWebSocketPublicClient: () => (/* binding */ useWebSocketPublicClient)\n/* harmony export */ });\n/* harmony import */ var _tanstack_query_sync_storage_persister__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tanstack/query-sync-storage-persister */ \"(ssr)/./node_modules/@tanstack/query-sync-storage-persister/build/lib/index.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/query-core/build/lib/queryClient.mjs\");\n/* harmony import */ var _tanstack_react_query_persist_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tanstack/react-query-persist-client */ \"(ssr)/./node_modules/@tanstack/query-persist-client-core/build/lib/persist.mjs\");\n/* harmony import */ var _wagmi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wagmi/core */ \"(ssr)/./node_modules/@wagmi/core/dist/chunk-TSH6VVF4.js\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/isRestoring.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/query-core/build/lib/notifyManager.mjs\");\n/* harmony import */ var use_sync_external_store_shim_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! use-sync-external-store/shim/index.js */ \"(ssr)/./node_modules/use-sync-external-store/shim/index.js\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/query-core/build/lib/infiniteQueryObserver.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/query-core/build/lib/utils.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useMutation.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/query-core/build/lib/queryObserver.mjs\");\n/* harmony import */ var use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! use-sync-external-store/shim/with-selector.js */ \"(ssr)/./node_modules/use-sync-external-store/shim/with-selector.js\");\n/* harmony import */ var _wagmi_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @wagmi/core */ \"(ssr)/./node_modules/@wagmi/connectors/dist/chunk-W65LBPLT.js\");\n/* harmony import */ var _wagmi_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @wagmi/core */ \"(ssr)/./node_modules/@wagmi/connectors/dist/chunk-UGBGYVBH.js\");\n/* harmony import */ var viem_chains__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! viem/chains */ \"(ssr)/./node_modules/viem/_esm/chains/definitions/mainnet.js\");\n/* harmony import */ var viem_chains__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! viem/chains */ \"(ssr)/./node_modules/viem/_esm/chains/definitions/sepolia.js\");\n\"use client\";\n\n// src/config.ts\n\n\n\n\nfunction createConfig({\n  queryClient = new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__.QueryClient({\n    defaultOptions: {\n      queries: {\n        cacheTime: 1e3 * 60 * 60 * 24,\n        networkMode: \"offlineFirst\",\n        refetchOnWindowFocus: false,\n        retry: 0\n      },\n      mutations: {\n        networkMode: \"offlineFirst\"\n      }\n    }\n  }),\n  storage = (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.createStorage)({\n    storage: typeof window !== \"undefined\" && window.localStorage ? window.localStorage : _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.noopStorage\n  }),\n  persister = typeof window !== \"undefined\" ? (0,_tanstack_query_sync_storage_persister__WEBPACK_IMPORTED_MODULE_2__.createSyncStoragePersister)({\n    key: \"cache\",\n    storage,\n    serialize: (x) => x,\n    deserialize: (x) => x\n  }) : void 0,\n  ...args\n}) {\n  const config = (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.createConfig)({\n    ...args,\n    storage\n  });\n  if (persister)\n    (0,_tanstack_react_query_persist_client__WEBPACK_IMPORTED_MODULE_3__.persistQueryClient)({\n      queryClient,\n      persister,\n      dehydrateOptions: {\n        shouldDehydrateQuery: (query) => query.cacheTime !== 0 && query.queryKey[0].persist !== false\n      }\n    });\n  return Object.assign(config, { queryClient });\n}\n\n// src/context.ts\n\n\nvar Context = react__WEBPACK_IMPORTED_MODULE_4__.createContext(void 0);\nvar queryClientContext = react__WEBPACK_IMPORTED_MODULE_4__.createContext(\n  void 0\n);\nfunction WagmiConfig({\n  children,\n  config\n}) {\n  return react__WEBPACK_IMPORTED_MODULE_4__.createElement(Context.Provider, {\n    children: react__WEBPACK_IMPORTED_MODULE_4__.createElement(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.QueryClientProvider, {\n      children,\n      client: config.queryClient,\n      context: queryClientContext\n    }),\n    value: config\n  });\n}\nfunction useConfig() {\n  const config = react__WEBPACK_IMPORTED_MODULE_4__.useContext(Context);\n  if (!config)\n    throw new Error(\n      [\n        \"`useConfig` must be used within `WagmiConfig`.\\n\",\n        \"Read more: https://wagmi.sh/react/WagmiConfig\"\n      ].join(\"\\n\")\n    );\n  return config;\n}\n\n// src/hooks/accounts/useAccount.ts\n\n\n\n// src/hooks/utils/query/useBaseQuery.ts\n\n\n\n// src/hooks/utils/useSyncExternalStore.ts\n\nvar useSyncExternalStore2 = use_sync_external_store_shim_index_js__WEBPACK_IMPORTED_MODULE_6__.useSyncExternalStore;\n\n// src/hooks/utils/query/utils.ts\nfunction isQueryKey(value) {\n  return Array.isArray(value);\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (typeof ctor === \"undefined\") {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n  if (typeof arg2 === \"function\") {\n    return { ...arg3, queryKey: arg1, queryFn: arg2 };\n  }\n  return { ...arg2, queryKey: arg1 };\n}\nfunction queryKeyHashFn(queryKey17) {\n  return JSON.stringify(\n    queryKey17,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : typeof val === \"bigint\" ? val.toString() : val\n  );\n}\nfunction shouldThrowError(_useErrorBoundary, params) {\n  if (typeof _useErrorBoundary === \"function\") {\n    return _useErrorBoundary(...params);\n  }\n  return !!_useErrorBoundary;\n}\nfunction trackResult(result, observer) {\n  const trackedResult = {};\n  Object.keys(result).forEach((key) => {\n    Object.defineProperty(trackedResult, key, {\n      configurable: false,\n      enumerable: true,\n      get: () => {\n        observer.trackedProps.add(key);\n        return result[key];\n      }\n    });\n  });\n  return trackedResult;\n}\n\n// src/hooks/utils/query/useBaseQuery.ts\nfunction useBaseQuery(options, Observer) {\n  const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.useQueryClient)({ context: options.context });\n  const isRestoring = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useIsRestoring)();\n  const errorResetBoundary = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_8__.useQueryErrorResetBoundary)();\n  const defaultedOptions = queryClient.defaultQueryOptions({\n    ...options,\n    queryKeyHashFn\n  });\n  defaultedOptions._optimisticResults = isRestoring ? \"isRestoring\" : \"optimistic\";\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = _tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__.notifyManager.batchCalls(\n      defaultedOptions.onError\n    );\n  }\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = _tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__.notifyManager.batchCalls(\n      defaultedOptions.onSuccess\n    );\n  }\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = _tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__.notifyManager.batchCalls(\n      defaultedOptions.onSettled\n    );\n  }\n  if (defaultedOptions.suspense) {\n    if (typeof defaultedOptions.staleTime !== \"number\") {\n      defaultedOptions.staleTime = 1e3;\n    }\n  }\n  if (defaultedOptions.suspense || defaultedOptions.useErrorBoundary) {\n    if (!errorResetBoundary.isReset()) {\n      defaultedOptions.retryOnMount = false;\n    }\n  }\n  const [observer] = react__WEBPACK_IMPORTED_MODULE_4__.useState(\n    () => new Observer(\n      queryClient,\n      defaultedOptions\n    )\n  );\n  const result = observer.getOptimisticResult(defaultedOptions);\n  useSyncExternalStore2(\n    react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n      (onStoreChange) => isRestoring ? () => void 0 : observer.subscribe(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__.notifyManager.batchCalls(onStoreChange)),\n      [observer, isRestoring]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    errorResetBoundary.clearReset();\n  }, [errorResetBoundary]);\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    observer.setOptions(defaultedOptions, { listeners: false });\n  }, [defaultedOptions, observer]);\n  if (defaultedOptions.suspense && result.isLoading && result.isFetching && !isRestoring) {\n    throw observer.fetchOptimistic(defaultedOptions).then(({ data }) => {\n      defaultedOptions.onSuccess?.(data);\n      defaultedOptions.onSettled?.(data, null);\n    }).catch((error) => {\n      errorResetBoundary.clearReset();\n      defaultedOptions.onError?.(error);\n      defaultedOptions.onSettled?.(void 0, error);\n    });\n  }\n  if (result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(defaultedOptions.useErrorBoundary, [\n    result.error,\n    observer.getCurrentQuery()\n  ])) {\n    throw result.error;\n  }\n  const status = result.status === \"loading\" && result.fetchStatus === \"idle\" ? \"idle\" : result.status;\n  const isIdle = status === \"idle\";\n  const isLoading = status === \"loading\" && result.fetchStatus === \"fetching\";\n  return {\n    ...result,\n    defaultedOptions,\n    isIdle,\n    isLoading,\n    observer,\n    status\n  };\n}\n\n// src/hooks/utils/query/useInfiniteQuery.ts\n\nfunction useInfiniteQuery(arg1, arg2, arg3) {\n  const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  const baseQuery = useBaseQuery(\n    { context: queryClientContext, ...parsedOptions },\n    _tanstack_react_query__WEBPACK_IMPORTED_MODULE_10__.InfiniteQueryObserver\n  );\n  const result = {\n    data: baseQuery.data,\n    error: baseQuery.error,\n    fetchNextPage: baseQuery.fetchNextPage,\n    fetchStatus: baseQuery.fetchStatus,\n    hasNextPage: baseQuery.hasNextPage,\n    isError: baseQuery.isError,\n    isFetched: baseQuery.isFetched,\n    isFetchedAfterMount: baseQuery.isFetchedAfterMount,\n    isFetching: baseQuery.isFetching,\n    isFetchingNextPage: baseQuery.isFetchingNextPage,\n    isIdle: baseQuery.isIdle,\n    isLoading: baseQuery.isLoading,\n    isRefetching: baseQuery.isRefetching,\n    isSuccess: baseQuery.isSuccess,\n    refetch: baseQuery.refetch,\n    status: baseQuery.status,\n    internal: {\n      dataUpdatedAt: baseQuery.dataUpdatedAt,\n      errorUpdatedAt: baseQuery.errorUpdatedAt,\n      failureCount: baseQuery.failureCount,\n      isFetchedAfterMount: baseQuery.isFetchedAfterMount,\n      isLoadingError: baseQuery.isLoadingError,\n      isPaused: baseQuery.isPaused,\n      isPlaceholderData: baseQuery.isPlaceholderData,\n      isPreviousData: baseQuery.isPreviousData,\n      isRefetchError: baseQuery.isRefetchError,\n      isStale: baseQuery.isStale,\n      remove: baseQuery.remove\n    }\n  };\n  return !baseQuery.defaultedOptions.notifyOnChangeProps ? trackResult(result, baseQuery.observer) : result;\n}\n\n// src/hooks/utils/query/useMutation.ts\n\nfunction useMutation(arg1, arg2, arg3) {\n  const options = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_11__.parseMutationArgs)(arg1, arg2, arg3);\n  return (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_12__.useMutation)({ context: queryClientContext, ...options });\n}\n\n// src/hooks/utils/query/useQuery.ts\n\nfunction useQuery(arg1, arg2, arg3) {\n  const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  const baseQuery = useBaseQuery({ context: queryClientContext, ...parsedOptions }, _tanstack_react_query__WEBPACK_IMPORTED_MODULE_13__.QueryObserver);\n  const result = {\n    data: baseQuery.data,\n    error: baseQuery.error,\n    fetchStatus: baseQuery.fetchStatus,\n    isError: baseQuery.isError,\n    isFetched: baseQuery.isFetched,\n    isFetchedAfterMount: baseQuery.isFetchedAfterMount,\n    isFetching: baseQuery.isFetching,\n    isIdle: baseQuery.isIdle,\n    isLoading: baseQuery.isLoading,\n    isRefetching: baseQuery.isRefetching,\n    isSuccess: baseQuery.isSuccess,\n    refetch: baseQuery.refetch,\n    status: baseQuery.status,\n    internal: {\n      dataUpdatedAt: baseQuery.dataUpdatedAt,\n      errorUpdatedAt: baseQuery.errorUpdatedAt,\n      failureCount: baseQuery.failureCount,\n      isFetchedAfterMount: baseQuery.isFetchedAfterMount,\n      isLoadingError: baseQuery.isLoadingError,\n      isPaused: baseQuery.isPaused,\n      isPlaceholderData: baseQuery.isPlaceholderData,\n      isPreviousData: baseQuery.isPreviousData,\n      isRefetchError: baseQuery.isRefetchError,\n      isStale: baseQuery.isStale,\n      remove: baseQuery.remove\n    }\n  };\n  return !baseQuery.defaultedOptions.notifyOnChangeProps ? trackResult(result, baseQuery.observer) : result;\n}\n\n// src/hooks/utils/query/useQueryClient.ts\n\nvar useQueryClient2 = () => (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.useQueryClient)({ context: queryClientContext });\n\n// src/hooks/viem/usePublicClient.ts\n\n\nfunction usePublicClient({\n  chainId\n} = {}) {\n  return (0,use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_14__.useSyncExternalStoreWithSelector)(\n    (cb) => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.watchPublicClient)({ chainId }, cb),\n    () => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getPublicClient)({ chainId }),\n    () => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getPublicClient)({ chainId }),\n    (x) => x,\n    (a, b) => a.uid === b.uid\n  );\n}\n\n// src/hooks/viem/useWalletClient.ts\n\n\nfunction queryKey({ chainId }) {\n  return [{ entity: \"walletClient\", chainId, persist: false }];\n}\nfunction queryFn({\n  queryKey: [{ chainId }]\n}) {\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getWalletClient)({ chainId });\n}\nfunction useWalletClient({\n  chainId: chainId_,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const { connector } = useAccount();\n  const chainId = useChainId({ chainId: chainId_ });\n  const walletClientQuery = useQuery(queryKey({ chainId }), queryFn, {\n    cacheTime: 0,\n    enabled: Boolean(connector),\n    staleTime: Infinity,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n  const queryClient = useQueryClient2();\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    const unwatch = (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.watchWalletClient)({ chainId }, (walletClient) => {\n      if (walletClient)\n        queryClient.invalidateQueries(queryKey({ chainId }));\n      else\n        queryClient.removeQueries(queryKey({ chainId }));\n    });\n    return unwatch;\n  }, [queryClient, chainId]);\n  return walletClientQuery;\n}\n\n// src/hooks/viem/useWebSocketPublicClient.ts\n\n\nfunction useWebSocketPublicClient({ chainId } = {}) {\n  return (0,use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_14__.useSyncExternalStoreWithSelector)(\n    (cb) => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.watchWebSocketPublicClient)({ chainId }, cb),\n    () => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getWebSocketPublicClient)({ chainId }),\n    () => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getWebSocketPublicClient)({ chainId }),\n    (x) => x,\n    (a, b) => a?.uid === b?.uid\n  );\n}\n\n// src/hooks/utils/useChainId.ts\nfunction useChainId({ chainId } = {}) {\n  const publicClient = usePublicClient({ chainId });\n  return publicClient.chain.id;\n}\n\n// src/hooks/utils/useForceUpdate.ts\n\nfunction useForceUpdate() {\n  const [, forceUpdate] = react__WEBPACK_IMPORTED_MODULE_4__.useReducer((x) => x + 1, 0);\n  return forceUpdate;\n}\n\n// src/hooks/utils/useInvalidateOnBlock.ts\n\n\n// src/hooks/network-status/useBlockNumber.ts\n\n\nfunction queryKey2({ chainId, scopeKey }) {\n  return [{ entity: \"blockNumber\", chainId, scopeKey }];\n}\nfunction queryFn2({\n  queryKey: [{ chainId }]\n}) {\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchBlockNumber)({ chainId });\n}\nfunction useBlockNumber({\n  cacheTime = 0,\n  chainId: chainId_,\n  enabled = true,\n  scopeKey,\n  staleTime,\n  suspense,\n  watch = false,\n  onBlock,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  const publicClient = usePublicClient({ chainId });\n  const webSocketPublicClient = useWebSocketPublicClient({ chainId });\n  const queryClient = useQueryClient2();\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    if (!enabled)\n      return;\n    if (!watch && !onBlock)\n      return;\n    const publicClient_ = webSocketPublicClient ?? publicClient;\n    const unwatch = publicClient_.watchBlockNumber({\n      onBlockNumber: (blockNumber) => {\n        if (watch)\n          queryClient.setQueryData(queryKey2({ chainId, scopeKey }), blockNumber);\n        if (onBlock)\n          onBlock(blockNumber);\n      },\n      emitOnBegin: true\n    });\n    return unwatch;\n  }, [\n    chainId,\n    scopeKey,\n    onBlock,\n    publicClient,\n    queryClient,\n    watch,\n    webSocketPublicClient,\n    enabled\n  ]);\n  return useQuery(queryKey2({ scopeKey, chainId }), queryFn2, {\n    cacheTime,\n    enabled,\n    staleTime,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\n\n// src/hooks/network-status/useFeeData.ts\n\n\nfunction queryKey3({\n  chainId,\n  formatUnits,\n  scopeKey\n}) {\n  return [{ entity: \"feeData\", chainId, formatUnits, scopeKey }];\n}\nfunction queryFn3({\n  queryKey: [{ chainId, formatUnits }]\n}) {\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchFeeData)({ chainId, formatUnits });\n}\nfunction useFeeData({\n  cacheTime,\n  chainId: chainId_,\n  enabled = true,\n  formatUnits = \"gwei\",\n  scopeKey,\n  staleTime,\n  suspense,\n  watch,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  const queryKey_ = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(\n    () => queryKey3({\n      chainId,\n      formatUnits,\n      scopeKey\n    }),\n    [chainId, formatUnits, scopeKey]\n  );\n  const feeDataQuery = useQuery(queryKey_, queryFn3, {\n    cacheTime,\n    enabled,\n    staleTime,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n  useInvalidateOnBlock({\n    chainId,\n    enabled: Boolean(enabled && watch),\n    queryKey: queryKey_\n  });\n  return feeDataQuery;\n}\n\n// src/hooks/utils/useInvalidateOnBlock.ts\nfunction useInvalidateOnBlock({\n  chainId,\n  enabled,\n  queryKey: queryKey17\n}) {\n  const queryClient = useQueryClient2();\n  const onBlock = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    () => queryClient.invalidateQueries({ queryKey: queryKey17 }, { cancelRefetch: false }),\n    [queryClient, queryKey17]\n  );\n  useBlockNumber({\n    chainId,\n    enabled,\n    onBlock: enabled ? onBlock : void 0,\n    scopeKey: enabled ? void 0 : \"idle\"\n  });\n}\n\n// src/hooks/utils/useSyncExternalStoreWithTracked.ts\n\n\n\nvar isPlainObject2 = (obj) => typeof obj === \"object\" && !Array.isArray(obj);\nfunction useSyncExternalStoreWithTracked(subscribe, getSnapshot, getServerSnapshot = getSnapshot, isEqual = _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.deepEqual) {\n  const trackedKeys = react__WEBPACK_IMPORTED_MODULE_4__.useRef([]);\n  const result = (0,use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_14__.useSyncExternalStoreWithSelector)(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot,\n    (x) => x,\n    (a, b) => {\n      if (isPlainObject2(a) && isPlainObject2(b) && trackedKeys.current.length) {\n        for (const key of trackedKeys.current) {\n          const equal = isEqual(\n            a[key],\n            b[key]\n          );\n          if (!equal)\n            return false;\n        }\n        return true;\n      }\n      return isEqual(a, b);\n    }\n  );\n  if (isPlainObject2(result)) {\n    const trackedResult = { ...result };\n    Object.defineProperties(\n      trackedResult,\n      Object.entries(trackedResult).reduce(\n        (res, [key, value]) => {\n          return {\n            ...res,\n            [key]: {\n              configurable: false,\n              enumerable: true,\n              get: () => {\n                if (!trackedKeys.current.includes(key)) {\n                  trackedKeys.current.push(key);\n                }\n                return value;\n              }\n            }\n          };\n        },\n        {}\n      )\n    );\n    return trackedResult;\n  }\n  return result;\n}\n\n// src/hooks/accounts/useAccount.ts\nfunction useAccount({ onConnect, onDisconnect } = {}) {\n  const config = useConfig();\n  const watchAccount_ = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (callback) => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.watchAccount)(callback),\n    [config]\n  );\n  const account = useSyncExternalStoreWithTracked(watchAccount_, _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getAccount);\n  const previousAccountRef = react__WEBPACK_IMPORTED_MODULE_4__.useRef();\n  const previousAccount = previousAccountRef.current;\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    if (previousAccount?.status !== \"connected\" && account.status === \"connected\") {\n      onConnect?.({\n        address: account.address,\n        connector: account.connector,\n        isReconnected: previousAccount?.status === \"reconnecting\" || previousAccount?.status === void 0\n      });\n    }\n    if (previousAccount?.status === \"connected\" && account.status === \"disconnected\") {\n      onDisconnect?.();\n    }\n    previousAccountRef.current = account;\n  }, [onConnect, onDisconnect, previousAccount, account]);\n  return account;\n}\n\n// src/hooks/accounts/useBalance.ts\n\n\nfunction queryKey4({\n  address,\n  chainId,\n  formatUnits,\n  scopeKey,\n  token\n}) {\n  return [\n    {\n      entity: \"balance\",\n      address,\n      chainId,\n      formatUnits,\n      scopeKey,\n      token\n    }\n  ];\n}\nfunction queryFn4({\n  queryKey: [{ address, chainId, formatUnits, token }]\n}) {\n  if (!address)\n    throw new Error(\"address is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchBalance)({ address, chainId, formatUnits, token });\n}\nfunction useBalance({\n  address,\n  cacheTime,\n  chainId: chainId_,\n  enabled = true,\n  formatUnits,\n  scopeKey,\n  staleTime,\n  suspense,\n  token,\n  watch,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  const queryKey_ = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(\n    () => queryKey4({ address, chainId, formatUnits, scopeKey, token }),\n    [address, chainId, formatUnits, scopeKey, token]\n  );\n  const balanceQuery = useQuery(queryKey_, queryFn4, {\n    cacheTime,\n    enabled: Boolean(enabled && address),\n    staleTime,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n  useInvalidateOnBlock({\n    chainId,\n    enabled: Boolean(enabled && watch && address),\n    queryKey: queryKey_\n  });\n  return balanceQuery;\n}\n\n// src/hooks/accounts/useConnect.ts\n\n\nvar mutationKey = (args) => [{ entity: \"connect\", ...args }];\nvar mutationFn = (args) => {\n  const { connector, chainId } = args;\n  if (!connector)\n    throw new Error(\"connector is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.connect)({ connector, chainId });\n};\nfunction useConnect({\n  chainId,\n  connector,\n  onError,\n  onMutate,\n  onSettled,\n  onSuccess\n} = {}) {\n  const config = useConfig();\n  const {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    mutate,\n    mutateAsync,\n    reset,\n    status,\n    variables\n  } = useMutation(mutationKey({ connector, chainId }), mutationFn, {\n    onError,\n    onMutate,\n    onSettled,\n    onSuccess\n  });\n  const connect2 = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => {\n      return mutate({\n        chainId: args?.chainId ?? chainId,\n        connector: args?.connector ?? connector\n      });\n    },\n    [chainId, connector, mutate]\n  );\n  const connectAsync = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => {\n      return mutateAsync({\n        chainId: args?.chainId ?? chainId,\n        connector: args?.connector ?? connector\n      });\n    },\n    [chainId, connector, mutateAsync]\n  );\n  return {\n    connect: connect2,\n    connectAsync,\n    connectors: config.connectors,\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    pendingConnector: variables?.connector,\n    reset,\n    status,\n    variables\n  };\n}\n\n// src/hooks/accounts/useDisconnect.ts\n\nvar mutationKey2 = [{ entity: \"disconnect\" }];\nvar mutationFn2 = () => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.disconnect)();\nfunction useDisconnect({\n  onError,\n  onMutate,\n  onSettled,\n  onSuccess\n} = {}) {\n  const {\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    mutate: disconnect2,\n    mutateAsync: disconnectAsync,\n    reset,\n    status\n  } = useMutation(mutationKey2, mutationFn2, {\n    ...onError ? {\n      onError(error2, _variables, context) {\n        onError(error2, context);\n      }\n    } : {},\n    onMutate,\n    ...onSettled ? {\n      onSettled(_data, error2, _variables, context) {\n        onSettled(error2, context);\n      }\n    } : {},\n    ...onSuccess ? {\n      onSuccess(_data, _variables, context) {\n        onSuccess(context);\n      }\n    } : {}\n  });\n  return {\n    disconnect: disconnect2,\n    disconnectAsync,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    reset,\n    status\n  };\n}\n\n// src/hooks/accounts/useNetwork.ts\n\n\nfunction useNetwork() {\n  const config = useConfig();\n  const watchNetwork_ = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(\n    (callback) => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.watchNetwork)(callback),\n    [config]\n  );\n  return useSyncExternalStoreWithTracked(watchNetwork_, _wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getNetwork);\n}\n\n// src/hooks/accounts/useSignMessage.ts\n\n\nvar mutationKey3 = (args) => [{ entity: \"signMessage\", ...args }];\nvar mutationFn3 = (args) => {\n  const { message } = args;\n  if (!message)\n    throw new Error(\"message is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.signMessage)({ message });\n};\nfunction useSignMessage({\n  message,\n  onError,\n  onMutate,\n  onSettled,\n  onSuccess\n} = {}) {\n  const {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    mutate,\n    mutateAsync,\n    reset,\n    status,\n    variables\n  } = useMutation(mutationKey3({ message }), mutationFn3, {\n    onError,\n    onMutate,\n    onSettled,\n    onSuccess\n  });\n  const signMessage2 = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => mutate(args || { message }),\n    [message, mutate]\n  );\n  const signMessageAsync = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => mutateAsync(args || { message }),\n    [message, mutateAsync]\n  );\n  return {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    reset,\n    signMessage: signMessage2,\n    signMessageAsync,\n    status,\n    variables\n  };\n}\n\n// src/hooks/accounts/useSignTypedData.ts\n\n\nfunction mutationKey4({ domain, types, message, primaryType }) {\n  return [\n    { entity: \"signTypedData\", domain, types, message, primaryType }\n  ];\n}\nfunction mutationFn4(args) {\n  const { domain, types, primaryType, message } = args;\n  if (!domain)\n    throw new Error(\"domain is required\");\n  if (!types)\n    throw new Error(\"types is required\");\n  if (!primaryType)\n    throw new Error(\"primaryType is required\");\n  if (!message)\n    throw new Error(\"message is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.signTypedData)({\n    domain,\n    message,\n    primaryType,\n    types\n  });\n}\nfunction useSignTypedData({\n  domain,\n  types,\n  message,\n  primaryType,\n  onError,\n  onMutate,\n  onSettled,\n  onSuccess\n} = {}) {\n  const {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    mutate,\n    mutateAsync,\n    reset,\n    status,\n    variables\n  } = useMutation(\n    mutationKey4({\n      domain,\n      message,\n      primaryType,\n      types\n    }),\n    mutationFn4,\n    {\n      onError,\n      onMutate,\n      onSettled,\n      onSuccess\n    }\n  );\n  const signTypedData2 = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => mutate({\n      domain: args?.domain ?? domain,\n      types: args?.types ?? types,\n      message: args?.message ?? message,\n      primaryType: args?.primaryType ?? primaryType\n    }),\n    [domain, types, primaryType, message, mutate]\n  );\n  const signTypedDataAsync = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => mutateAsync({\n      domain: args?.domain ?? domain,\n      types: args?.types ?? types,\n      message: args?.message ?? message,\n      primaryType: args?.primaryType ?? primaryType\n    }),\n    [domain, types, primaryType, message, mutateAsync]\n  );\n  return {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    reset,\n    signTypedData: signTypedData2,\n    signTypedDataAsync,\n    status,\n    variables\n  };\n}\n\n// src/hooks/accounts/useSwitchNetwork.ts\n\n\nvar mutationKey5 = (args) => [{ entity: \"switchNetwork\", ...args }];\nvar mutationFn5 = (args) => {\n  const { chainId } = args;\n  if (!chainId)\n    throw new Error(\"chainId is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.switchNetwork)({ chainId });\n};\nfunction useSwitchNetwork({\n  chainId,\n  throwForSwitchChainNotSupported,\n  onError,\n  onMutate,\n  onSettled,\n  onSuccess\n} = {}) {\n  const config = useConfig();\n  const forceUpdate = useForceUpdate();\n  const {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    mutate,\n    mutateAsync,\n    reset,\n    status,\n    variables\n  } = useMutation(mutationKey5({ chainId }), mutationFn5, {\n    onError,\n    onMutate,\n    onSettled,\n    onSuccess\n  });\n  const switchNetwork_ = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (chainId_) => mutate({ chainId: chainId_ ?? chainId }),\n    [chainId, mutate]\n  );\n  const switchNetworkAsync_ = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (chainId_) => mutateAsync({ chainId: chainId_ ?? chainId }),\n    [chainId, mutateAsync]\n  );\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    const unwatch = config.subscribe(\n      ({ chains, connector }) => ({\n        chains,\n        connector\n      }),\n      forceUpdate\n    );\n    return unwatch;\n  }, [config, forceUpdate]);\n  let switchNetwork2;\n  let switchNetworkAsync;\n  const supportsSwitchChain = !!config.connector?.switchChain;\n  if (throwForSwitchChainNotSupported || supportsSwitchChain) {\n    switchNetwork2 = switchNetwork_;\n    switchNetworkAsync = switchNetworkAsync_;\n  }\n  return {\n    chains: config.chains ?? [],\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    pendingChainId: variables?.chainId,\n    reset,\n    status,\n    switchNetwork: switchNetwork2,\n    switchNetworkAsync,\n    variables\n  };\n}\n\n// src/hooks/contracts/useContractEvent.ts\n\nfunction useContractEvent({\n  address,\n  chainId,\n  abi,\n  listener,\n  eventName\n} = {}) {\n  const publicClient = usePublicClient({ chainId });\n  const webSocketPublicClient = useWebSocketPublicClient({ chainId });\n  const unwatch = react__WEBPACK_IMPORTED_MODULE_4__.useRef();\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    if (!abi || !address || !eventName)\n      return;\n    const publicClient_ = webSocketPublicClient || publicClient;\n    unwatch.current = publicClient_.watchContractEvent({\n      abi,\n      address,\n      eventName,\n      onLogs: listener\n    });\n    return unwatch.current;\n  }, [abi, address, eventName, publicClient.uid, webSocketPublicClient?.uid]);\n  return unwatch.current;\n}\n\n// src/hooks/contracts/useContractInfiniteReads.ts\n\n\n\nfunction queryKey5({\n  allowFailure,\n  blockNumber,\n  blockTag,\n  cacheKey,\n  scopeKey\n}) {\n  return [\n    {\n      entity: \"readContractsInfinite\",\n      allowFailure,\n      blockNumber,\n      blockTag,\n      cacheKey,\n      scopeKey\n    }\n  ];\n}\nfunction queryFn5({\n  contracts\n}) {\n  return ({\n    queryKey: [{ allowFailure, blockNumber, blockTag }],\n    pageParam\n  }) => {\n    return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.readContracts)({\n      allowFailure,\n      blockNumber,\n      blockTag,\n      contracts: contracts(pageParam || void 0)\n    });\n  };\n}\nfunction useContractInfiniteReads({\n  allowFailure,\n  blockNumber,\n  blockTag,\n  cacheKey,\n  cacheTime,\n  contracts,\n  enabled: enabled_ = true,\n  getNextPageParam,\n  isDataEqual,\n  keepPreviousData,\n  onError,\n  onSettled,\n  onSuccess,\n  scopeKey,\n  select,\n  staleTime,\n  structuralSharing = (oldData, newData) => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.deepEqual)(oldData, newData) ? oldData : (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_11__.replaceEqualDeep)(oldData, newData),\n  suspense\n}) {\n  const queryKey_ = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(\n    () => queryKey5({ allowFailure, blockNumber, blockTag, cacheKey, scopeKey }),\n    [allowFailure, blockNumber, blockTag, cacheKey, scopeKey]\n  );\n  const enabled = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(() => {\n    const enabled2 = Boolean(enabled_ && contracts);\n    return enabled2;\n  }, [contracts, enabled_]);\n  return useInfiniteQuery(queryKey_, queryFn5({ contracts }), {\n    cacheTime,\n    enabled,\n    getNextPageParam,\n    isDataEqual,\n    keepPreviousData,\n    select,\n    staleTime,\n    structuralSharing,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\nfunction paginatedIndexesConfig(fn, {\n  perPage,\n  start,\n  direction\n}) {\n  const contracts = (page = 0) => [...Array(perPage).keys()].map((index) => {\n    return direction === \"increment\" ? start + index + page * perPage : start - index - page * perPage;\n  }).filter((index) => index >= 0).flatMap(fn);\n  return {\n    contracts,\n    getNextPageParam(lastPage, pages) {\n      return lastPage?.length === perPage ? pages.length : void 0;\n    }\n  };\n}\n\n// src/hooks/contracts/useContractRead.ts\n\n\n\nfunction queryKey6({\n  account,\n  address,\n  args,\n  blockNumber,\n  blockTag,\n  chainId,\n  functionName,\n  scopeKey\n}) {\n  return [\n    {\n      entity: \"readContract\",\n      account,\n      address,\n      args,\n      blockNumber,\n      blockTag,\n      chainId,\n      functionName,\n      scopeKey\n    }\n  ];\n}\nfunction queryFn6({ abi }) {\n  return async ({\n    queryKey: [\n      { account, address, args, blockNumber, blockTag, chainId, functionName }\n    ]\n  }) => {\n    if (!abi)\n      throw new Error(\"abi is required\");\n    if (!address)\n      throw new Error(\"address is required\");\n    return await (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.readContract)({\n      account,\n      address,\n      args,\n      blockNumber,\n      blockTag,\n      chainId,\n      abi,\n      functionName\n    }) ?? null;\n  };\n}\nfunction useContractRead({\n  abi,\n  address,\n  account,\n  args,\n  blockNumber: blockNumberOverride,\n  blockTag,\n  cacheOnBlock = false,\n  cacheTime,\n  chainId: chainId_,\n  enabled: enabled_ = true,\n  functionName,\n  isDataEqual,\n  keepPreviousData,\n  onError,\n  onSettled,\n  onSuccess,\n  scopeKey,\n  select,\n  staleTime,\n  structuralSharing = (oldData, newData) => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.deepEqual)(oldData, newData) ? oldData : (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_11__.replaceEqualDeep)(oldData, newData),\n  suspense,\n  watch\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  const { data: blockNumber_ } = useBlockNumber({\n    chainId,\n    enabled: watch || cacheOnBlock,\n    scopeKey: watch || cacheOnBlock ? void 0 : \"idle\",\n    watch\n  });\n  const blockNumber = blockNumberOverride ?? blockNumber_;\n  const queryKey_ = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(\n    () => queryKey6({\n      account,\n      address,\n      args,\n      blockNumber: cacheOnBlock ? blockNumber : void 0,\n      blockTag,\n      chainId,\n      functionName,\n      scopeKey\n    }),\n    [\n      account,\n      address,\n      args,\n      blockNumber,\n      blockTag,\n      cacheOnBlock,\n      chainId,\n      functionName,\n      scopeKey\n    ]\n  );\n  const enabled = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(() => {\n    let enabled2 = Boolean(enabled_ && abi && address && functionName);\n    if (cacheOnBlock)\n      enabled2 = Boolean(enabled2 && blockNumber);\n    return enabled2;\n  }, [abi, address, blockNumber, cacheOnBlock, enabled_, functionName]);\n  useInvalidateOnBlock({\n    chainId,\n    enabled: Boolean(enabled && watch && !cacheOnBlock),\n    queryKey: queryKey_\n  });\n  return useQuery(\n    queryKey_,\n    queryFn6({\n      abi\n    }),\n    {\n      cacheTime,\n      enabled,\n      isDataEqual,\n      keepPreviousData,\n      select,\n      staleTime,\n      structuralSharing,\n      suspense,\n      onError,\n      onSettled,\n      onSuccess\n    }\n  );\n}\n\n// src/hooks/contracts/useContractReads.ts\n\n\n\nfunction queryKey7({\n  allowFailure,\n  blockNumber,\n  blockTag,\n  chainId,\n  contracts,\n  scopeKey\n}) {\n  return [\n    {\n      entity: \"readContracts\",\n      allowFailure,\n      blockNumber,\n      blockTag,\n      chainId,\n      scopeKey,\n      contracts: (contracts ?? []).map(({ address, args, chainId: chainId2, functionName }) => ({\n        address,\n        args,\n        chainId: chainId2,\n        functionName\n      }))\n    }\n  ];\n}\nfunction queryFn7({ abis }) {\n  return ({\n    queryKey: [{ allowFailure, blockNumber, blockTag, contracts: contracts_ }]\n  }) => {\n    const contracts = contracts_.map((contract, i) => ({\n      ...contract,\n      abi: abis[i]\n    }));\n    return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.readContracts)({\n      allowFailure,\n      contracts,\n      blockNumber,\n      blockTag\n    });\n  };\n}\nfunction useContractReads({\n  allowFailure: allowFailure_,\n  blockNumber: blockNumberOverride,\n  blockTag,\n  cacheOnBlock = false,\n  cacheTime,\n  contracts,\n  enabled: enabled_ = true,\n  isDataEqual,\n  keepPreviousData,\n  onError,\n  onSettled,\n  onSuccess,\n  scopeKey,\n  select,\n  staleTime,\n  structuralSharing = (oldData, newData) => (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.deepEqual)(oldData, newData) ? oldData : (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_11__.replaceEqualDeep)(oldData, newData),\n  suspense,\n  watch\n} = {}) {\n  const allowFailure = allowFailure_ ?? true;\n  const { data: blockNumber_ } = useBlockNumber({\n    enabled: watch || cacheOnBlock,\n    watch\n  });\n  const chainId = useChainId();\n  const blockNumber = blockNumberOverride ?? blockNumber_;\n  const queryKey_ = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(\n    () => queryKey7({\n      allowFailure,\n      blockNumber: cacheOnBlock ? blockNumber : void 0,\n      blockTag,\n      chainId,\n      contracts,\n      scopeKey\n    }),\n    [\n      allowFailure,\n      blockNumber,\n      blockTag,\n      cacheOnBlock,\n      chainId,\n      scopeKey,\n      contracts\n    ]\n  );\n  const enabled = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(() => {\n    let enabled2 = Boolean(\n      enabled_ && contracts?.every(\n        (x) => x.abi && x.address && x.functionName\n      )\n    );\n    if (cacheOnBlock)\n      enabled2 = Boolean(enabled2 && blockNumber);\n    return enabled2;\n  }, [blockNumber, cacheOnBlock, contracts, enabled_]);\n  useInvalidateOnBlock({\n    enabled: Boolean(enabled && watch && !cacheOnBlock),\n    queryKey: queryKey_\n  });\n  const abis = (contracts ?? []).map(\n    ({ abi }) => abi\n  );\n  return useQuery(queryKey_, queryFn7({ abis }), {\n    cacheTime,\n    enabled,\n    isDataEqual,\n    keepPreviousData,\n    staleTime,\n    select,\n    structuralSharing,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\n\n// src/hooks/contracts/useContractWrite.ts\n\n\n\nfunction mutationKey6({\n  address,\n  abi,\n  functionName,\n  ...config\n}) {\n  const {\n    args,\n    accessList,\n    account,\n    dataSuffix,\n    gas,\n    gasPrice,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    nonce,\n    request,\n    value\n  } = config;\n  return [\n    {\n      entity: \"writeContract\",\n      address,\n      args,\n      abi,\n      accessList,\n      account,\n      dataSuffix,\n      functionName,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      request,\n      value\n    }\n  ];\n}\nfunction mutationFn6(config) {\n  if (config.mode === \"prepared\") {\n    if (!config.request)\n      throw new Error(\"request is required\");\n    return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.writeContract)({\n      mode: \"prepared\",\n      request: config.request\n    });\n  }\n  if (!config.address)\n    throw new Error(\"address is required\");\n  if (!config.abi)\n    throw new Error(\"abi is required\");\n  if (!config.functionName)\n    throw new Error(\"functionName is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.writeContract)({\n    address: config.address,\n    args: config.args,\n    chainId: config.chainId,\n    abi: config.abi,\n    functionName: config.functionName,\n    accessList: config.accessList,\n    account: config.account,\n    dataSuffix: config.dataSuffix,\n    gas: config.gas,\n    gasPrice: config.gasPrice,\n    maxFeePerGas: config.maxFeePerGas,\n    maxPriorityFeePerGas: config.maxPriorityFeePerGas,\n    nonce: config.nonce,\n    value: config.value\n  });\n}\nfunction useContractWrite(config) {\n  const {\n    address,\n    abi,\n    args,\n    chainId,\n    functionName,\n    mode,\n    request,\n    dataSuffix\n  } = config;\n  const {\n    accessList,\n    account,\n    gas,\n    gasPrice,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    nonce,\n    value\n  } = (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getSendTransactionParameters)(config);\n  const {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    mutate,\n    mutateAsync,\n    reset,\n    status,\n    variables\n  } = useMutation(\n    mutationKey6({\n      address,\n      abi,\n      functionName,\n      chainId,\n      mode,\n      args,\n      accessList,\n      account,\n      dataSuffix,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      request,\n      value\n    }),\n    mutationFn6,\n    {\n      onError: config.onError,\n      onMutate: config.onMutate,\n      onSettled: config.onSettled,\n      onSuccess: config.onSuccess\n    }\n  );\n  const write = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(() => {\n    if (config.mode === \"prepared\") {\n      if (!request)\n        return void 0;\n      return () => mutate({\n        mode: \"prepared\",\n        request: config.request,\n        chainId: config.chainId\n      });\n    }\n    return (overrideConfig) => mutate({\n      address,\n      args,\n      abi,\n      functionName,\n      chainId,\n      accessList,\n      account,\n      dataSuffix,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      value,\n      ...overrideConfig\n    });\n  }, [\n    accessList,\n    account,\n    abi,\n    address,\n    args,\n    chainId,\n    config.chainId,\n    config.mode,\n    config.request,\n    dataSuffix,\n    functionName,\n    gas,\n    gasPrice,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    mutate,\n    nonce,\n    request,\n    value\n  ]);\n  const writeAsync = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(() => {\n    if (config.mode === \"prepared\") {\n      if (!request)\n        return void 0;\n      return () => mutateAsync({\n        mode: \"prepared\",\n        request: config.request\n      });\n    }\n    return (overrideConfig) => mutateAsync({\n      address,\n      args,\n      abi,\n      chainId,\n      functionName,\n      accessList,\n      account,\n      dataSuffix,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      value,\n      ...overrideConfig\n    });\n  }, [\n    accessList,\n    account,\n    abi,\n    address,\n    args,\n    chainId,\n    config.mode,\n    config.request,\n    dataSuffix,\n    functionName,\n    gas,\n    gasPrice,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    mutateAsync,\n    nonce,\n    request,\n    value\n  ]);\n  return {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    reset,\n    status,\n    variables,\n    write,\n    writeAsync\n  };\n}\n\n// src/hooks/contracts/usePrepareContractWrite.ts\n\n\nfunction queryKey8({\n  accessList,\n  account,\n  activeChainId,\n  args,\n  address,\n  blockNumber,\n  blockTag,\n  chainId,\n  dataSuffix,\n  functionName,\n  gas,\n  gasPrice,\n  maxFeePerGas,\n  maxPriorityFeePerGas,\n  nonce,\n  scopeKey,\n  walletClientAddress,\n  value\n}) {\n  return [\n    {\n      entity: \"prepareContractTransaction\",\n      accessList,\n      account,\n      activeChainId,\n      address,\n      args,\n      blockNumber,\n      blockTag,\n      chainId,\n      dataSuffix,\n      functionName,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      scopeKey,\n      walletClientAddress,\n      value\n    }\n  ];\n}\nfunction queryFn8({\n  abi,\n  walletClient\n}) {\n  return ({\n    queryKey: [\n      {\n        accessList,\n        account,\n        args,\n        address,\n        blockNumber,\n        blockTag,\n        chainId,\n        dataSuffix,\n        functionName,\n        gas,\n        gasPrice,\n        maxFeePerGas,\n        maxPriorityFeePerGas,\n        nonce,\n        value\n      }\n    ]\n  }) => {\n    if (!abi)\n      throw new Error(\"abi is required\");\n    if (!address)\n      throw new Error(\"address is required\");\n    if (!functionName)\n      throw new Error(\"functionName is required\");\n    return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.prepareWriteContract)({\n      abi,\n      accessList,\n      account,\n      args,\n      address,\n      blockNumber,\n      blockTag,\n      chainId,\n      dataSuffix,\n      functionName,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      walletClient,\n      value\n    });\n  };\n}\nfunction usePrepareContractWrite({\n  address,\n  abi,\n  functionName,\n  chainId,\n  args,\n  cacheTime,\n  dataSuffix,\n  enabled = true,\n  scopeKey,\n  staleTime,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess,\n  ...config\n} = {}) {\n  const { chain: activeChain } = useNetwork();\n  const { data: walletClient } = useWalletClient({ chainId });\n  const {\n    accessList,\n    account,\n    blockNumber,\n    blockTag,\n    gas,\n    gasPrice,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    nonce,\n    value\n  } = (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.getCallParameters)(config);\n  const prepareContractWriteQuery = useQuery(\n    queryKey8({\n      accessList,\n      account,\n      activeChainId: activeChain?.id,\n      address,\n      args,\n      blockNumber,\n      blockTag,\n      chainId,\n      dataSuffix,\n      functionName,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      scopeKey,\n      walletClientAddress: walletClient?.account.address,\n      value\n    }),\n    queryFn8({\n      abi,\n      walletClient\n    }),\n    {\n      cacheTime,\n      enabled: Boolean(\n        enabled && abi && address && functionName && walletClient\n      ),\n      staleTime,\n      suspense,\n      onError,\n      onSettled,\n      onSuccess\n    }\n  );\n  return Object.assign(prepareContractWriteQuery, {\n    config: {\n      chainId,\n      mode: \"prepared\",\n      request: void 0,\n      ...prepareContractWriteQuery.data\n    }\n  });\n}\n\n// src/hooks/contracts/useToken.ts\n\nfunction queryKey9({\n  address,\n  chainId,\n  formatUnits,\n  scopeKey\n}) {\n  return [{ entity: \"token\", address, chainId, formatUnits, scopeKey }];\n}\nfunction queryFn9({\n  queryKey: [{ address, chainId, formatUnits }]\n}) {\n  if (!address)\n    throw new Error(\"address is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchToken)({ address, chainId, formatUnits });\n}\nfunction useToken({\n  address,\n  chainId: chainId_,\n  formatUnits = \"ether\",\n  cacheTime,\n  enabled = true,\n  scopeKey,\n  staleTime = 1e3 * 60 * 60 * 24,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  return useQuery(\n    queryKey9({ address, chainId, formatUnits, scopeKey }),\n    queryFn9,\n    {\n      cacheTime,\n      enabled: Boolean(enabled && address),\n      staleTime,\n      suspense,\n      onError,\n      onSettled,\n      onSuccess\n    }\n  );\n}\n\n// src/hooks/ens/useEnsAddress.ts\n\nfunction queryKey10({ chainId, name, scopeKey }) {\n  return [{ entity: \"ensAddress\", chainId, name, scopeKey }];\n}\nfunction queryFn10({\n  queryKey: [{ chainId, name }]\n}) {\n  if (!name)\n    throw new Error(\"name is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchEnsAddress)({ chainId, name });\n}\nfunction useEnsAddress({\n  cacheTime,\n  chainId: chainId_,\n  enabled = true,\n  name,\n  scopeKey,\n  staleTime = 1e3 * 60 * 60 * 24,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  return useQuery(queryKey10({ chainId, name, scopeKey }), queryFn10, {\n    cacheTime,\n    enabled: Boolean(enabled && chainId && name),\n    staleTime,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\n\n// src/hooks/ens/useEnsAvatar.ts\n\nfunction queryKey11({ name, chainId, scopeKey }) {\n  return [{ entity: \"ensAvatar\", name, chainId, scopeKey }];\n}\nfunction queryFn11({\n  queryKey: [{ name, chainId }]\n}) {\n  if (!name)\n    throw new Error(\"name is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchEnsAvatar)({ name, chainId });\n}\nfunction useEnsAvatar({\n  cacheTime,\n  chainId: chainId_,\n  enabled = true,\n  name,\n  scopeKey,\n  staleTime = 1e3 * 60 * 60 * 24,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  return useQuery(queryKey11({ name, chainId, scopeKey }), queryFn11, {\n    cacheTime,\n    enabled: Boolean(enabled && name && chainId),\n    staleTime,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\n\n// src/hooks/ens/useEnsName.ts\n\nfunction queryKey12({\n  address,\n  chainId,\n  scopeKey\n}) {\n  return [{ entity: \"ensName\", address, chainId, scopeKey }];\n}\nfunction queryFn12({\n  queryKey: [{ address, chainId }]\n}) {\n  if (!address)\n    throw new Error(\"address is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchEnsName)({ address, chainId });\n}\nfunction useEnsName({\n  address,\n  cacheTime,\n  chainId: chainId_,\n  enabled = true,\n  scopeKey,\n  staleTime = 1e3 * 60 * 60 * 24,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  return useQuery(queryKey12({ address, chainId, scopeKey }), queryFn12, {\n    cacheTime,\n    enabled: Boolean(enabled && address && chainId),\n    staleTime,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\n\n// src/hooks/ens/useEnsResolver.ts\n\nfunction queryKey13({ chainId, name, scopeKey }) {\n  return [\n    { entity: \"ensResolver\", chainId, name, scopeKey, persist: false }\n  ];\n}\nfunction queryFn13({\n  queryKey: [{ chainId, name }]\n}) {\n  if (!name)\n    throw new Error(\"name is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchEnsResolver)({ chainId, name });\n}\nfunction useEnsResolver({\n  chainId: chainId_,\n  name,\n  enabled = true,\n  scopeKey,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  return useQuery(queryKey13({ chainId, name, scopeKey }), queryFn13, {\n    cacheTime: 0,\n    enabled: Boolean(enabled && chainId && name),\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\n\n// src/hooks/transactions/usePrepareSendTransaction.ts\n\nfunction queryKey14({\n  accessList,\n  account,\n  activeChainId,\n  chainId,\n  data,\n  gas,\n  gasPrice,\n  maxFeePerGas,\n  maxPriorityFeePerGas,\n  nonce,\n  to,\n  value,\n  scopeKey,\n  walletClientAddress\n}) {\n  return [\n    {\n      entity: \"prepareSendTransaction\",\n      activeChainId,\n      accessList,\n      account,\n      chainId,\n      data,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      to,\n      value,\n      scopeKey,\n      walletClientAddress\n    }\n  ];\n}\nfunction queryFn14({ walletClient }) {\n  return ({\n    queryKey: [\n      {\n        accessList,\n        account,\n        chainId,\n        data,\n        gas,\n        gasPrice,\n        maxFeePerGas,\n        maxPriorityFeePerGas,\n        nonce,\n        to,\n        value\n      }\n    ]\n  }) => {\n    if (!to)\n      throw new Error(\"to is required\");\n    return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.prepareSendTransaction)({\n      accessList,\n      account,\n      chainId,\n      data,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      to,\n      value,\n      walletClient\n    });\n  };\n}\nfunction usePrepareSendTransaction({\n  accessList,\n  account,\n  chainId,\n  cacheTime,\n  data,\n  enabled = true,\n  gas,\n  gasPrice,\n  maxFeePerGas,\n  maxPriorityFeePerGas,\n  nonce,\n  scopeKey,\n  staleTime,\n  suspense,\n  to,\n  value,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const { chain: activeChain } = useNetwork();\n  const { data: walletClient } = useWalletClient({ chainId });\n  const prepareSendTransactionQuery = useQuery(\n    queryKey14({\n      accessList,\n      activeChainId: activeChain?.id,\n      account,\n      chainId,\n      data,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      nonce,\n      scopeKey,\n      to,\n      value,\n      walletClientAddress: walletClient?.account.address\n    }),\n    queryFn14({ walletClient }),\n    {\n      cacheTime,\n      enabled: Boolean(enabled && walletClient && to),\n      staleTime,\n      suspense,\n      onError,\n      onSettled,\n      onSuccess\n    }\n  );\n  return Object.assign(prepareSendTransactionQuery, {\n    config: {\n      mode: \"prepared\",\n      ...prepareSendTransactionQuery.isSuccess ? prepareSendTransactionQuery.data : void 0\n    }\n  });\n}\n\n// src/hooks/transactions/useSendTransaction.ts\n\n\nvar mutationKey7 = (args) => [{ entity: \"sendTransaction\", ...args }];\nvar mutationFn7 = ({\n  accessList,\n  account,\n  chainId,\n  data,\n  gas,\n  gasPrice,\n  maxFeePerGas,\n  maxPriorityFeePerGas,\n  mode,\n  nonce,\n  to,\n  value\n}) => {\n  if (!to)\n    throw new Error(\"to is required.\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.sendTransaction)({\n    accessList,\n    account,\n    chainId,\n    data,\n    gas,\n    gasPrice,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    mode,\n    nonce,\n    to,\n    value\n  });\n};\nfunction useSendTransaction({\n  accessList,\n  account,\n  chainId,\n  data: data_,\n  gas,\n  gasPrice,\n  maxFeePerGas,\n  maxPriorityFeePerGas,\n  mode,\n  nonce,\n  to,\n  value,\n  onError,\n  onMutate,\n  onSettled,\n  onSuccess\n} = {}) {\n  const {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    mutate,\n    mutateAsync,\n    reset,\n    status,\n    variables\n  } = useMutation(\n    mutationKey7({\n      accessList,\n      account,\n      chainId,\n      data: data_,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      mode,\n      nonce,\n      to,\n      value\n    }),\n    mutationFn7,\n    {\n      onError,\n      onMutate,\n      onSettled,\n      onSuccess\n    }\n  );\n  const sendTransaction2 = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => mutate({\n      chainId,\n      mode,\n      ...args || {\n        accessList,\n        account,\n        chainId,\n        data: data_,\n        gas,\n        gasPrice,\n        maxFeePerGas,\n        maxPriorityFeePerGas,\n        mode,\n        nonce,\n        value,\n        to\n      }\n    }),\n    [\n      accessList,\n      account,\n      chainId,\n      data_,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      mode,\n      mutate,\n      nonce,\n      to,\n      value\n    ]\n  );\n  const sendTransactionAsync = react__WEBPACK_IMPORTED_MODULE_4__.useCallback(\n    (args) => mutateAsync({\n      chainId,\n      mode,\n      ...args || {\n        accessList,\n        account,\n        chainId,\n        data: data_,\n        gas,\n        gasPrice,\n        maxFeePerGas,\n        maxPriorityFeePerGas,\n        mode,\n        nonce,\n        value,\n        to\n      }\n    }),\n    [\n      accessList,\n      account,\n      chainId,\n      data_,\n      gas,\n      gasPrice,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      mode,\n      mutateAsync,\n      nonce,\n      to,\n      value\n    ]\n  );\n  return {\n    data,\n    error,\n    isError,\n    isIdle,\n    isLoading,\n    isSuccess,\n    reset,\n    sendTransaction: mode === \"prepared\" && !to ? void 0 : sendTransaction2,\n    sendTransactionAsync: mode === \"prepared\" && !to ? void 0 : sendTransactionAsync,\n    status,\n    variables\n  };\n}\n\n// src/hooks/transactions/useTransaction.ts\n\nfunction queryKey15({ chainId, hash, scopeKey }) {\n  return [{ entity: \"transaction\", chainId, hash, scopeKey }];\n}\nfunction queryFn15({\n  queryKey: [{ chainId, hash }]\n}) {\n  if (!hash)\n    throw new Error(\"hash is required\");\n  return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.fetchTransaction)({ chainId, hash });\n}\nfunction useTransaction({\n  cacheTime = 0,\n  chainId: chainId_,\n  enabled = true,\n  hash,\n  scopeKey,\n  staleTime,\n  suspense,\n  onError,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  return useQuery(queryKey15({ chainId, hash, scopeKey }), queryFn15, {\n    cacheTime,\n    enabled: Boolean(enabled && hash),\n    staleTime,\n    suspense,\n    onError,\n    onSettled,\n    onSuccess\n  });\n}\n\n// src/hooks/transactions/useWaitForTransaction.ts\n\nfunction queryKey16({\n  confirmations,\n  chainId,\n  hash,\n  scopeKey,\n  timeout\n}) {\n  return [\n    {\n      entity: \"waitForTransaction\",\n      confirmations,\n      chainId,\n      hash,\n      scopeKey,\n      timeout\n    }\n  ];\n}\nfunction queryFn16({\n  onReplaced\n}) {\n  return ({\n    queryKey: [{ chainId, confirmations, hash, timeout }]\n  }) => {\n    if (!hash)\n      throw new Error(\"hash is required\");\n    return (0,_wagmi_core__WEBPACK_IMPORTED_MODULE_1__.waitForTransaction)({\n      chainId,\n      confirmations,\n      hash,\n      onReplaced,\n      timeout\n    });\n  };\n}\nfunction useWaitForTransaction({\n  chainId: chainId_,\n  confirmations,\n  hash,\n  timeout,\n  cacheTime,\n  enabled = true,\n  scopeKey,\n  staleTime,\n  suspense,\n  onError,\n  onReplaced,\n  onSettled,\n  onSuccess\n} = {}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  return useQuery(\n    queryKey16({ chainId, confirmations, hash, scopeKey, timeout }),\n    queryFn16({ onReplaced }),\n    {\n      cacheTime,\n      enabled: Boolean(enabled && hash),\n      staleTime,\n      suspense,\n      onError,\n      onSettled,\n      onSuccess\n    }\n  );\n}\n\n// src/hooks/transactions/useWatchPendingTransactions.ts\n\nfunction useWatchPendingTransactions({\n  chainId: chainId_,\n  enabled = true,\n  listener\n}) {\n  const chainId = useChainId({ chainId: chainId_ });\n  const publicClient = usePublicClient({ chainId });\n  const webSocketPublicClient = useWebSocketPublicClient({ chainId });\n  react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {\n    if (!enabled)\n      return;\n    const publicClient_ = webSocketPublicClient ?? publicClient;\n    return publicClient_.watchPendingTransactions({\n      onTransactions: listener\n    });\n  }, [enabled, listener, publicClient, webSocketPublicClient]);\n}\n\n// src/index.ts\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2FnbWkvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDb0Y7QUFDaEM7QUFDc0I7QUFLckQ7QUFDckI7QUFDQSxvQkFBb0IsOERBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFlBQVksMERBQWE7QUFDekIsMEZBQTBGLG9EQUFXO0FBQ3JHLEdBQUc7QUFDSCw4Q0FBOEMsa0dBQTBCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNELGlCQUFpQix5REFBZ0I7QUFDakM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUksd0ZBQWtCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUNBQWlDLGFBQWE7QUFDOUM7O0FBRUE7QUFDNEQ7QUFDN0I7QUFDL0IsY0FBYyxnREFBbUI7QUFDakMseUJBQXlCLGdEQUFtQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVMsZ0RBQW1CO0FBQzVCLGNBQWMsZ0RBQW1CLENBQUMsc0VBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUJBQWlCLDZDQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDdUQ7QUFDdkI7O0FBRWhDO0FBTStCO0FBQ0M7O0FBRWhDO0FBQzZEO0FBQzdELDRCQUE0Qix1RkFBd0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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LHlFQUE0QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDBDQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMENBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNtRDtBQUNNO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUVBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxJQUFJO0FBQ04sVUFBVSxxQkFBcUI7QUFDL0IsVUFBVSxxQkFBcUIsb0JBQW9CLFNBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksRUFBRSw4REFBaUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxH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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGlCQUFpQix1Q0FBdUM7QUFDeEQsR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLCtEQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxJQUFJO0FBQ04sK0JBQStCLG1CQUFtQjtBQUNsRDtBQUNBLGlCQUFpQixpREFBaUQ7QUFDbEUsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwrQkFBK0IsbUJBQW1CO0FBQ2xELHlDQUF5QyxTQUFTO0FBQ2xELDJEQUEyRCxTQUFTO0FBQ3BFLEVBQUUsNENBQWlCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBa0JxQjtBQUMwQjtBQTJEN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ib29zdGVyLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3dhZ21pL2Rpc3QvaW5kZXguanM/Mzg1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuLy8gc3JjL2NvbmZpZy50c1xuaW1wb3J0IHsgY3JlYXRlU3luY1N0b3JhZ2VQZXJzaXN0ZXIgfSBmcm9tIFwiQHRhbnN0YWNrL3F1ZXJ5LXN5bmMtc3RvcmFnZS1wZXJzaXN0ZXJcIjtcbmltcG9ydCB7IFF1ZXJ5Q2xpZW50IH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeVwiO1xuaW1wb3J0IHsgcGVyc2lzdFF1ZXJ5Q2xpZW50IH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeS1wZXJzaXN0LWNsaWVudFwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlQ29uZmlnIGFzIGNyZWF0ZUNvcmVDb25maWcsXG4gIGNyZWF0ZVN0b3JhZ2UsXG4gIG5vb3BTdG9yYWdlXG59IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuZnVuY3Rpb24gY3JlYXRlQ29uZmlnKHtcbiAgcXVlcnlDbGllbnQgPSBuZXcgUXVlcnlDbGllbnQoe1xuICAgIGRlZmF1bHRPcHRpb25zOiB7XG4gICAgICBxdWVyaWVzOiB7XG4gICAgICAgIGNhY2hlVGltZTogMWUzICogNjAgKiA2MCAqIDI0LFxuICAgICAgICBuZXR3b3JrTW9kZTogXCJvZmZsaW5lRmlyc3RcIixcbiAgICAgICAgcmVmZXRjaE9uV2luZG93Rm9jdXM6IGZhbHNlLFxuICAgICAgICByZXRyeTogMFxuICAgICAgfSxcbiAgICAgIG11dGF0aW9uczoge1xuICAgICAgICBuZXR3b3JrTW9kZTogXCJvZmZsaW5lRmlyc3RcIlxuICAgICAgfVxuICAgIH1cbiAgfSksXG4gIHN0b3JhZ2UgPSBjcmVhdGVTdG9yYWdlKHtcbiAgICBzdG9yYWdlOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UgPyB3aW5kb3cubG9jYWxTdG9yYWdlIDogbm9vcFN0b3JhZ2VcbiAgfSksXG4gIHBlcnNpc3RlciA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBjcmVhdGVTeW5jU3RvcmFnZVBlcnNpc3Rlcih7XG4gICAga2V5OiBcImNhY2hlXCIsXG4gICAgc3RvcmFnZSxcbiAgICBzZXJpYWxpemU6ICh4KSA9PiB4LFxuICAgIGRlc2VyaWFsaXplOiAoeCkgPT4geFxuICB9KSA6IHZvaWQgMCxcbiAgLi4uYXJnc1xufSkge1xuICBjb25zdCBjb25maWcgPSBjcmVhdGVDb3JlQ29uZmlnKHtcbiAgICAuLi5hcmdzLFxuICAgIHN0b3JhZ2VcbiAgfSk7XG4gIGlmIChwZXJzaXN0ZXIpXG4gICAgcGVyc2lzdFF1ZXJ5Q2xpZW50KHtcbiAgICAgIHF1ZXJ5Q2xpZW50LFxuICAgICAgcGVyc2lzdGVyLFxuICAgICAgZGVoeWRyYXRlT3B0aW9uczoge1xuICAgICAgICBzaG91bGREZWh5ZHJhdGVRdWVyeTogKHF1ZXJ5KSA9PiBxdWVyeS5jYWNoZVRpbWUgIT09IDAgJiYgcXVlcnkucXVlcnlLZXlbMF0ucGVyc2lzdCAhPT0gZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IHF1ZXJ5Q2xpZW50IH0pO1xufVxuXG4vLyBzcmMvY29udGV4dC50c1xuaW1wb3J0IHsgUXVlcnlDbGllbnRQcm92aWRlciB9IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtcXVlcnlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xudmFyIENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG52YXIgcXVlcnlDbGllbnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgdm9pZCAwXG4pO1xuZnVuY3Rpb24gV2FnbWlDb25maWcoe1xuICBjaGlsZHJlbixcbiAgY29uZmlnXG59KSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICBjaGlsZHJlbjogUmVhY3QuY3JlYXRlRWxlbWVudChRdWVyeUNsaWVudFByb3ZpZGVyLCB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIGNsaWVudDogY29uZmlnLnF1ZXJ5Q2xpZW50LFxuICAgICAgY29udGV4dDogcXVlcnlDbGllbnRDb250ZXh0XG4gICAgfSksXG4gICAgdmFsdWU6IGNvbmZpZ1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZUNvbmZpZygpIHtcbiAgY29uc3QgY29uZmlnID0gUmVhY3QudXNlQ29udGV4dChDb250ZXh0KTtcbiAgaWYgKCFjb25maWcpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgW1xuICAgICAgICBcImB1c2VDb25maWdgIG11c3QgYmUgdXNlZCB3aXRoaW4gYFdhZ21pQ29uZmlnYC5cXG5cIixcbiAgICAgICAgXCJSZWFkIG1vcmU6IGh0dHBzOi8vd2FnbWkuc2gvcmVhY3QvV2FnbWlDb25maWdcIlxuICAgICAgXS5qb2luKFwiXFxuXCIpXG4gICAgKTtcbiAgcmV0dXJuIGNvbmZpZztcbn1cblxuLy8gc3JjL2hvb2tzL2FjY291bnRzL3VzZUFjY291bnQudHNcbmltcG9ydCB7IGdldEFjY291bnQsIHdhdGNoQWNjb3VudCB9IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3Q5IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9va3MvdXRpbHMvcXVlcnkvdXNlQmFzZVF1ZXJ5LnRzXG5pbXBvcnQge1xuICBub3RpZnlNYW5hZ2VyLFxuICB1c2VJc1Jlc3RvcmluZyxcbiAgdXNlUXVlcnlDbGllbnQsXG4gIHVzZVF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5XG59IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtcXVlcnlcIjtcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2hvb2tzL3V0aWxzL3VzZVN5bmNFeHRlcm5hbFN0b3JlLnRzXG5pbXBvcnQgKiBhcyBwa2cgZnJvbSBcInVzZS1zeW5jLWV4dGVybmFsLXN0b3JlL3NoaW0vaW5kZXguanNcIjtcbnZhciB1c2VTeW5jRXh0ZXJuYWxTdG9yZTIgPSBwa2cudXNlU3luY0V4dGVybmFsU3RvcmU7XG5cbi8vIHNyYy9ob29rcy91dGlscy9xdWVyeS91dGlscy50c1xuZnVuY3Rpb24gaXNRdWVyeUtleSh2YWx1ZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG8pIHtcbiAgaWYgKCFoYXNPYmplY3RQcm90b3R5cGUobykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgY3RvciA9IG8uY29uc3RydWN0b3I7XG4gIGlmICh0eXBlb2YgY3RvciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHByb3QgPSBjdG9yLnByb3RvdHlwZTtcbiAgaWYgKCFoYXNPYmplY3RQcm90b3R5cGUocHJvdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFwcm90Lmhhc093blByb3BlcnR5KFwiaXNQcm90b3R5cGVPZlwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGhhc09iamVjdFByb3RvdHlwZShvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG59XG5mdW5jdGlvbiBwYXJzZVF1ZXJ5QXJncyhhcmcxLCBhcmcyLCBhcmczKSB7XG4gIGlmICghaXNRdWVyeUtleShhcmcxKSkge1xuICAgIHJldHVybiBhcmcxO1xuICB9XG4gIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHsgLi4uYXJnMywgcXVlcnlLZXk6IGFyZzEsIHF1ZXJ5Rm46IGFyZzIgfTtcbiAgfVxuICByZXR1cm4geyAuLi5hcmcyLCBxdWVyeUtleTogYXJnMSB9O1xufVxuZnVuY3Rpb24gcXVlcnlLZXlIYXNoRm4ocXVlcnlLZXkxNykge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgcXVlcnlLZXkxNyxcbiAgICAoXywgdmFsKSA9PiBpc1BsYWluT2JqZWN0KHZhbCkgPyBPYmplY3Qua2V5cyh2YWwpLnNvcnQoKS5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbFtrZXldO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSkgOiB0eXBlb2YgdmFsID09PSBcImJpZ2ludFwiID8gdmFsLnRvU3RyaW5nKCkgOiB2YWxcbiAgKTtcbn1cbmZ1bmN0aW9uIHNob3VsZFRocm93RXJyb3IoX3VzZUVycm9yQm91bmRhcnksIHBhcmFtcykge1xuICBpZiAodHlwZW9mIF91c2VFcnJvckJvdW5kYXJ5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gX3VzZUVycm9yQm91bmRhcnkoLi4ucGFyYW1zKTtcbiAgfVxuICByZXR1cm4gISFfdXNlRXJyb3JCb3VuZGFyeTtcbn1cbmZ1bmN0aW9uIHRyYWNrUmVzdWx0KHJlc3VsdCwgb2JzZXJ2ZXIpIHtcbiAgY29uc3QgdHJhY2tlZFJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhyZXN1bHQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cmFja2VkUmVzdWx0LCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLnRyYWNrZWRQcm9wcy5hZGQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRyYWNrZWRSZXN1bHQ7XG59XG5cbi8vIHNyYy9ob29rcy91dGlscy9xdWVyeS91c2VCYXNlUXVlcnkudHNcbmZ1bmN0aW9uIHVzZUJhc2VRdWVyeShvcHRpb25zLCBPYnNlcnZlcikge1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KHsgY29udGV4dDogb3B0aW9ucy5jb250ZXh0IH0pO1xuICBjb25zdCBpc1Jlc3RvcmluZyA9IHVzZUlzUmVzdG9yaW5nKCk7XG4gIGNvbnN0IGVycm9yUmVzZXRCb3VuZGFyeSA9IHVzZVF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5KCk7XG4gIGNvbnN0IGRlZmF1bHRlZE9wdGlvbnMgPSBxdWVyeUNsaWVudC5kZWZhdWx0UXVlcnlPcHRpb25zKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHF1ZXJ5S2V5SGFzaEZuXG4gIH0pO1xuICBkZWZhdWx0ZWRPcHRpb25zLl9vcHRpbWlzdGljUmVzdWx0cyA9IGlzUmVzdG9yaW5nID8gXCJpc1Jlc3RvcmluZ1wiIDogXCJvcHRpbWlzdGljXCI7XG4gIGlmIChkZWZhdWx0ZWRPcHRpb25zLm9uRXJyb3IpIHtcbiAgICBkZWZhdWx0ZWRPcHRpb25zLm9uRXJyb3IgPSBub3RpZnlNYW5hZ2VyLmJhdGNoQ2FsbHMoXG4gICAgICBkZWZhdWx0ZWRPcHRpb25zLm9uRXJyb3JcbiAgICApO1xuICB9XG4gIGlmIChkZWZhdWx0ZWRPcHRpb25zLm9uU3VjY2Vzcykge1xuICAgIGRlZmF1bHRlZE9wdGlvbnMub25TdWNjZXNzID0gbm90aWZ5TWFuYWdlci5iYXRjaENhbGxzKFxuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5vblN1Y2Nlc3NcbiAgICApO1xuICB9XG4gIGlmIChkZWZhdWx0ZWRPcHRpb25zLm9uU2V0dGxlZCkge1xuICAgIGRlZmF1bHRlZE9wdGlvbnMub25TZXR0bGVkID0gbm90aWZ5TWFuYWdlci5iYXRjaENhbGxzKFxuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5vblNldHRsZWRcbiAgICApO1xuICB9XG4gIGlmIChkZWZhdWx0ZWRPcHRpb25zLnN1c3BlbnNlKSB7XG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0ZWRPcHRpb25zLnN0YWxlVGltZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5zdGFsZVRpbWUgPSAxZTM7XG4gICAgfVxuICB9XG4gIGlmIChkZWZhdWx0ZWRPcHRpb25zLnN1c3BlbnNlIHx8IGRlZmF1bHRlZE9wdGlvbnMudXNlRXJyb3JCb3VuZGFyeSkge1xuICAgIGlmICghZXJyb3JSZXNldEJvdW5kYXJ5LmlzUmVzZXQoKSkge1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5yZXRyeU9uTW91bnQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgW29ic2VydmVyXSA9IFJlYWN0Mi51c2VTdGF0ZShcbiAgICAoKSA9PiBuZXcgT2JzZXJ2ZXIoXG4gICAgICBxdWVyeUNsaWVudCxcbiAgICAgIGRlZmF1bHRlZE9wdGlvbnNcbiAgICApXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IG9ic2VydmVyLmdldE9wdGltaXN0aWNSZXN1bHQoZGVmYXVsdGVkT3B0aW9ucyk7XG4gIHVzZVN5bmNFeHRlcm5hbFN0b3JlMihcbiAgICBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgICAob25TdG9yZUNoYW5nZSkgPT4gaXNSZXN0b3JpbmcgPyAoKSA9PiB2b2lkIDAgOiBvYnNlcnZlci5zdWJzY3JpYmUobm90aWZ5TWFuYWdlci5iYXRjaENhbGxzKG9uU3RvcmVDaGFuZ2UpKSxcbiAgICAgIFtvYnNlcnZlciwgaXNSZXN0b3JpbmddXG4gICAgKSxcbiAgICAoKSA9PiBvYnNlcnZlci5nZXRDdXJyZW50UmVzdWx0KCksXG4gICAgKCkgPT4gb2JzZXJ2ZXIuZ2V0Q3VycmVudFJlc3VsdCgpXG4gICk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGVycm9yUmVzZXRCb3VuZGFyeS5jbGVhclJlc2V0KCk7XG4gIH0sIFtlcnJvclJlc2V0Qm91bmRhcnldKTtcbiAgUmVhY3QyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb2JzZXJ2ZXIuc2V0T3B0aW9ucyhkZWZhdWx0ZWRPcHRpb25zLCB7IGxpc3RlbmVyczogZmFsc2UgfSk7XG4gIH0sIFtkZWZhdWx0ZWRPcHRpb25zLCBvYnNlcnZlcl0pO1xuICBpZiAoZGVmYXVsdGVkT3B0aW9ucy5zdXNwZW5zZSAmJiByZXN1bHQuaXNMb2FkaW5nICYmIHJlc3VsdC5pc0ZldGNoaW5nICYmICFpc1Jlc3RvcmluZykge1xuICAgIHRocm93IG9ic2VydmVyLmZldGNoT3B0aW1pc3RpYyhkZWZhdWx0ZWRPcHRpb25zKS50aGVuKCh7IGRhdGEgfSkgPT4ge1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5vblN1Y2Nlc3M/LihkYXRhKTtcbiAgICAgIGRlZmF1bHRlZE9wdGlvbnMub25TZXR0bGVkPy4oZGF0YSwgbnVsbCk7XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBlcnJvclJlc2V0Qm91bmRhcnkuY2xlYXJSZXNldCgpO1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5vbkVycm9yPy4oZXJyb3IpO1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5vblNldHRsZWQ/Lih2b2lkIDAsIGVycm9yKTtcbiAgICB9KTtcbiAgfVxuICBpZiAocmVzdWx0LmlzRXJyb3IgJiYgIWVycm9yUmVzZXRCb3VuZGFyeS5pc1Jlc2V0KCkgJiYgIXJlc3VsdC5pc0ZldGNoaW5nICYmIHNob3VsZFRocm93RXJyb3IoZGVmYXVsdGVkT3B0aW9ucy51c2VFcnJvckJvdW5kYXJ5LCBbXG4gICAgcmVzdWx0LmVycm9yLFxuICAgIG9ic2VydmVyLmdldEN1cnJlbnRRdWVyeSgpXG4gIF0pKSB7XG4gICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICB9XG4gIGNvbnN0IHN0YXR1cyA9IHJlc3VsdC5zdGF0dXMgPT09IFwibG9hZGluZ1wiICYmIHJlc3VsdC5mZXRjaFN0YXR1cyA9PT0gXCJpZGxlXCIgPyBcImlkbGVcIiA6IHJlc3VsdC5zdGF0dXM7XG4gIGNvbnN0IGlzSWRsZSA9IHN0YXR1cyA9PT0gXCJpZGxlXCI7XG4gIGNvbnN0IGlzTG9hZGluZyA9IHN0YXR1cyA9PT0gXCJsb2FkaW5nXCIgJiYgcmVzdWx0LmZldGNoU3RhdHVzID09PSBcImZldGNoaW5nXCI7XG4gIHJldHVybiB7XG4gICAgLi4ucmVzdWx0LFxuICAgIGRlZmF1bHRlZE9wdGlvbnMsXG4gICAgaXNJZGxlLFxuICAgIGlzTG9hZGluZyxcbiAgICBvYnNlcnZlcixcbiAgICBzdGF0dXNcbiAgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3V0aWxzL3F1ZXJ5L3VzZUluZmluaXRlUXVlcnkudHNcbmltcG9ydCB7IEluZmluaXRlUXVlcnlPYnNlcnZlciB9IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtcXVlcnlcIjtcbmZ1bmN0aW9uIHVzZUluZmluaXRlUXVlcnkoYXJnMSwgYXJnMiwgYXJnMykge1xuICBjb25zdCBwYXJzZWRPcHRpb25zID0gcGFyc2VRdWVyeUFyZ3MoYXJnMSwgYXJnMiwgYXJnMyk7XG4gIGNvbnN0IGJhc2VRdWVyeSA9IHVzZUJhc2VRdWVyeShcbiAgICB7IGNvbnRleHQ6IHF1ZXJ5Q2xpZW50Q29udGV4dCwgLi4ucGFyc2VkT3B0aW9ucyB9LFxuICAgIEluZmluaXRlUXVlcnlPYnNlcnZlclxuICApO1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgZGF0YTogYmFzZVF1ZXJ5LmRhdGEsXG4gICAgZXJyb3I6IGJhc2VRdWVyeS5lcnJvcixcbiAgICBmZXRjaE5leHRQYWdlOiBiYXNlUXVlcnkuZmV0Y2hOZXh0UGFnZSxcbiAgICBmZXRjaFN0YXR1czogYmFzZVF1ZXJ5LmZldGNoU3RhdHVzLFxuICAgIGhhc05leHRQYWdlOiBiYXNlUXVlcnkuaGFzTmV4dFBhZ2UsXG4gICAgaXNFcnJvcjogYmFzZVF1ZXJ5LmlzRXJyb3IsXG4gICAgaXNGZXRjaGVkOiBiYXNlUXVlcnkuaXNGZXRjaGVkLFxuICAgIGlzRmV0Y2hlZEFmdGVyTW91bnQ6IGJhc2VRdWVyeS5pc0ZldGNoZWRBZnRlck1vdW50LFxuICAgIGlzRmV0Y2hpbmc6IGJhc2VRdWVyeS5pc0ZldGNoaW5nLFxuICAgIGlzRmV0Y2hpbmdOZXh0UGFnZTogYmFzZVF1ZXJ5LmlzRmV0Y2hpbmdOZXh0UGFnZSxcbiAgICBpc0lkbGU6IGJhc2VRdWVyeS5pc0lkbGUsXG4gICAgaXNMb2FkaW5nOiBiYXNlUXVlcnkuaXNMb2FkaW5nLFxuICAgIGlzUmVmZXRjaGluZzogYmFzZVF1ZXJ5LmlzUmVmZXRjaGluZyxcbiAgICBpc1N1Y2Nlc3M6IGJhc2VRdWVyeS5pc1N1Y2Nlc3MsXG4gICAgcmVmZXRjaDogYmFzZVF1ZXJ5LnJlZmV0Y2gsXG4gICAgc3RhdHVzOiBiYXNlUXVlcnkuc3RhdHVzLFxuICAgIGludGVybmFsOiB7XG4gICAgICBkYXRhVXBkYXRlZEF0OiBiYXNlUXVlcnkuZGF0YVVwZGF0ZWRBdCxcbiAgICAgIGVycm9yVXBkYXRlZEF0OiBiYXNlUXVlcnkuZXJyb3JVcGRhdGVkQXQsXG4gICAgICBmYWlsdXJlQ291bnQ6IGJhc2VRdWVyeS5mYWlsdXJlQ291bnQsXG4gICAgICBpc0ZldGNoZWRBZnRlck1vdW50OiBiYXNlUXVlcnkuaXNGZXRjaGVkQWZ0ZXJNb3VudCxcbiAgICAgIGlzTG9hZGluZ0Vycm9yOiBiYXNlUXVlcnkuaXNMb2FkaW5nRXJyb3IsXG4gICAgICBpc1BhdXNlZDogYmFzZVF1ZXJ5LmlzUGF1c2VkLFxuICAgICAgaXNQbGFjZWhvbGRlckRhdGE6IGJhc2VRdWVyeS5pc1BsYWNlaG9sZGVyRGF0YSxcbiAgICAgIGlzUHJldmlvdXNEYXRhOiBiYXNlUXVlcnkuaXNQcmV2aW91c0RhdGEsXG4gICAgICBpc1JlZmV0Y2hFcnJvcjogYmFzZVF1ZXJ5LmlzUmVmZXRjaEVycm9yLFxuICAgICAgaXNTdGFsZTogYmFzZVF1ZXJ5LmlzU3RhbGUsXG4gICAgICByZW1vdmU6IGJhc2VRdWVyeS5yZW1vdmVcbiAgICB9XG4gIH07XG4gIHJldHVybiAhYmFzZVF1ZXJ5LmRlZmF1bHRlZE9wdGlvbnMubm90aWZ5T25DaGFuZ2VQcm9wcyA/IHRyYWNrUmVzdWx0KHJlc3VsdCwgYmFzZVF1ZXJ5Lm9ic2VydmVyKSA6IHJlc3VsdDtcbn1cblxuLy8gc3JjL2hvb2tzL3V0aWxzL3F1ZXJ5L3VzZU11dGF0aW9uLnRzXG5pbXBvcnQge1xuICBwYXJzZU11dGF0aW9uQXJncyxcbiAgdXNlTXV0YXRpb24gYXMgdXNlTXV0YXRpb25fXG59IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtcXVlcnlcIjtcbmZ1bmN0aW9uIHVzZU11dGF0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHBhcnNlTXV0YXRpb25BcmdzKGFyZzEsIGFyZzIsIGFyZzMpO1xuICByZXR1cm4gdXNlTXV0YXRpb25fKHsgY29udGV4dDogcXVlcnlDbGllbnRDb250ZXh0LCAuLi5vcHRpb25zIH0pO1xufVxuXG4vLyBzcmMvaG9va3MvdXRpbHMvcXVlcnkvdXNlUXVlcnkudHNcbmltcG9ydCB7IFF1ZXJ5T2JzZXJ2ZXIgfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XCI7XG5mdW5jdGlvbiB1c2VRdWVyeShhcmcxLCBhcmcyLCBhcmczKSB7XG4gIGNvbnN0IHBhcnNlZE9wdGlvbnMgPSBwYXJzZVF1ZXJ5QXJncyhhcmcxLCBhcmcyLCBhcmczKTtcbiAgY29uc3QgYmFzZVF1ZXJ5ID0gdXNlQmFzZVF1ZXJ5KHsgY29udGV4dDogcXVlcnlDbGllbnRDb250ZXh0LCAuLi5wYXJzZWRPcHRpb25zIH0sIFF1ZXJ5T2JzZXJ2ZXIpO1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgZGF0YTogYmFzZVF1ZXJ5LmRhdGEsXG4gICAgZXJyb3I6IGJhc2VRdWVyeS5lcnJvcixcbiAgICBmZXRjaFN0YXR1czogYmFzZVF1ZXJ5LmZldGNoU3RhdHVzLFxuICAgIGlzRXJyb3I6IGJhc2VRdWVyeS5pc0Vycm9yLFxuICAgIGlzRmV0Y2hlZDogYmFzZVF1ZXJ5LmlzRmV0Y2hlZCxcbiAgICBpc0ZldGNoZWRBZnRlck1vdW50OiBiYXNlUXVlcnkuaXNGZXRjaGVkQWZ0ZXJNb3VudCxcbiAgICBpc0ZldGNoaW5nOiBiYXNlUXVlcnkuaXNGZXRjaGluZyxcbiAgICBpc0lkbGU6IGJhc2VRdWVyeS5pc0lkbGUsXG4gICAgaXNMb2FkaW5nOiBiYXNlUXVlcnkuaXNMb2FkaW5nLFxuICAgIGlzUmVmZXRjaGluZzogYmFzZVF1ZXJ5LmlzUmVmZXRjaGluZyxcbiAgICBpc1N1Y2Nlc3M6IGJhc2VRdWVyeS5pc1N1Y2Nlc3MsXG4gICAgcmVmZXRjaDogYmFzZVF1ZXJ5LnJlZmV0Y2gsXG4gICAgc3RhdHVzOiBiYXNlUXVlcnkuc3RhdHVzLFxuICAgIGludGVybmFsOiB7XG4gICAgICBkYXRhVXBkYXRlZEF0OiBiYXNlUXVlcnkuZGF0YVVwZGF0ZWRBdCxcbiAgICAgIGVycm9yVXBkYXRlZEF0OiBiYXNlUXVlcnkuZXJyb3JVcGRhdGVkQXQsXG4gICAgICBmYWlsdXJlQ291bnQ6IGJhc2VRdWVyeS5mYWlsdXJlQ291bnQsXG4gICAgICBpc0ZldGNoZWRBZnRlck1vdW50OiBiYXNlUXVlcnkuaXNGZXRjaGVkQWZ0ZXJNb3VudCxcbiAgICAgIGlzTG9hZGluZ0Vycm9yOiBiYXNlUXVlcnkuaXNMb2FkaW5nRXJyb3IsXG4gICAgICBpc1BhdXNlZDogYmFzZVF1ZXJ5LmlzUGF1c2VkLFxuICAgICAgaXNQbGFjZWhvbGRlckRhdGE6IGJhc2VRdWVyeS5pc1BsYWNlaG9sZGVyRGF0YSxcbiAgICAgIGlzUHJldmlvdXNEYXRhOiBiYXNlUXVlcnkuaXNQcmV2aW91c0RhdGEsXG4gICAgICBpc1JlZmV0Y2hFcnJvcjogYmFzZVF1ZXJ5LmlzUmVmZXRjaEVycm9yLFxuICAgICAgaXNTdGFsZTogYmFzZVF1ZXJ5LmlzU3RhbGUsXG4gICAgICByZW1vdmU6IGJhc2VRdWVyeS5yZW1vdmVcbiAgICB9XG4gIH07XG4gIHJldHVybiAhYmFzZVF1ZXJ5LmRlZmF1bHRlZE9wdGlvbnMubm90aWZ5T25DaGFuZ2VQcm9wcyA/IHRyYWNrUmVzdWx0KHJlc3VsdCwgYmFzZVF1ZXJ5Lm9ic2VydmVyKSA6IHJlc3VsdDtcbn1cblxuLy8gc3JjL2hvb2tzL3V0aWxzL3F1ZXJ5L3VzZVF1ZXJ5Q2xpZW50LnRzXG5pbXBvcnQgeyB1c2VRdWVyeUNsaWVudCBhcyB1c2VRdWVyeUNsaWVudF8gfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XCI7XG52YXIgdXNlUXVlcnlDbGllbnQyID0gKCkgPT4gdXNlUXVlcnlDbGllbnRfKHsgY29udGV4dDogcXVlcnlDbGllbnRDb250ZXh0IH0pO1xuXG4vLyBzcmMvaG9va3MvdmllbS91c2VQdWJsaWNDbGllbnQudHNcbmltcG9ydCB7IGdldFB1YmxpY0NsaWVudCwgd2F0Y2hQdWJsaWNDbGllbnQgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmltcG9ydCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yIH0gZnJvbSBcInVzZS1zeW5jLWV4dGVybmFsLXN0b3JlL3NoaW0vd2l0aC1zZWxlY3Rvci5qc1wiO1xuZnVuY3Rpb24gdXNlUHVibGljQ2xpZW50KHtcbiAgY2hhaW5JZFxufSA9IHt9KSB7XG4gIHJldHVybiB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcihcbiAgICAoY2IpID0+IHdhdGNoUHVibGljQ2xpZW50KHsgY2hhaW5JZCB9LCBjYiksXG4gICAgKCkgPT4gZ2V0UHVibGljQ2xpZW50KHsgY2hhaW5JZCB9KSxcbiAgICAoKSA9PiBnZXRQdWJsaWNDbGllbnQoeyBjaGFpbklkIH0pLFxuICAgICh4KSA9PiB4LFxuICAgIChhLCBiKSA9PiBhLnVpZCA9PT0gYi51aWRcbiAgKTtcbn1cblxuLy8gc3JjL2hvb2tzL3ZpZW0vdXNlV2FsbGV0Q2xpZW50LnRzXG5pbXBvcnQgeyBnZXRXYWxsZXRDbGllbnQsIHdhdGNoV2FsbGV0Q2xpZW50IH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBxdWVyeUtleSh7IGNoYWluSWQgfSkge1xuICByZXR1cm4gW3sgZW50aXR5OiBcIndhbGxldENsaWVudFwiLCBjaGFpbklkLCBwZXJzaXN0OiBmYWxzZSB9XTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5Rm4oe1xuICBxdWVyeUtleTogW3sgY2hhaW5JZCB9XVxufSkge1xuICByZXR1cm4gZ2V0V2FsbGV0Q2xpZW50KHsgY2hhaW5JZCB9KTtcbn1cbmZ1bmN0aW9uIHVzZVdhbGxldENsaWVudCh7XG4gIGNoYWluSWQ6IGNoYWluSWRfLFxuICBzdXNwZW5zZSxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCB7IGNvbm5lY3RvciB9ID0gdXNlQWNjb3VudCgpO1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCh7IGNoYWluSWQ6IGNoYWluSWRfIH0pO1xuICBjb25zdCB3YWxsZXRDbGllbnRRdWVyeSA9IHVzZVF1ZXJ5KHF1ZXJ5S2V5KHsgY2hhaW5JZCB9KSwgcXVlcnlGbiwge1xuICAgIGNhY2hlVGltZTogMCxcbiAgICBlbmFibGVkOiBCb29sZWFuKGNvbm5lY3RvciksXG4gICAgc3RhbGVUaW1lOiBJbmZpbml0eSxcbiAgICBzdXNwZW5zZSxcbiAgICBvbkVycm9yLFxuICAgIG9uU2V0dGxlZCxcbiAgICBvblN1Y2Nlc3NcbiAgfSk7XG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQyKCk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVud2F0Y2ggPSB3YXRjaFdhbGxldENsaWVudCh7IGNoYWluSWQgfSwgKHdhbGxldENsaWVudCkgPT4ge1xuICAgICAgaWYgKHdhbGxldENsaWVudClcbiAgICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMocXVlcnlLZXkoeyBjaGFpbklkIH0pKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcXVlcnlDbGllbnQucmVtb3ZlUXVlcmllcyhxdWVyeUtleSh7IGNoYWluSWQgfSkpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bndhdGNoO1xuICB9LCBbcXVlcnlDbGllbnQsIGNoYWluSWRdKTtcbiAgcmV0dXJuIHdhbGxldENsaWVudFF1ZXJ5O1xufVxuXG4vLyBzcmMvaG9va3MvdmllbS91c2VXZWJTb2NrZXRQdWJsaWNDbGllbnQudHNcbmltcG9ydCB7XG4gIGdldFdlYlNvY2tldFB1YmxpY0NsaWVudCxcbiAgd2F0Y2hXZWJTb2NrZXRQdWJsaWNDbGllbnRcbn0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgeyB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvciBhcyB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcjIgfSBmcm9tIFwidXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvc2hpbS93aXRoLXNlbGVjdG9yLmpzXCI7XG5mdW5jdGlvbiB1c2VXZWJTb2NrZXRQdWJsaWNDbGllbnQoeyBjaGFpbklkIH0gPSB7fSkge1xuICByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3IyKFxuICAgIChjYikgPT4gd2F0Y2hXZWJTb2NrZXRQdWJsaWNDbGllbnQoeyBjaGFpbklkIH0sIGNiKSxcbiAgICAoKSA9PiBnZXRXZWJTb2NrZXRQdWJsaWNDbGllbnQoeyBjaGFpbklkIH0pLFxuICAgICgpID0+IGdldFdlYlNvY2tldFB1YmxpY0NsaWVudCh7IGNoYWluSWQgfSksXG4gICAgKHgpID0+IHgsXG4gICAgKGEsIGIpID0+IGE/LnVpZCA9PT0gYj8udWlkXG4gICk7XG59XG5cbi8vIHNyYy9ob29rcy91dGlscy91c2VDaGFpbklkLnRzXG5mdW5jdGlvbiB1c2VDaGFpbklkKHsgY2hhaW5JZCB9ID0ge30pIHtcbiAgY29uc3QgcHVibGljQ2xpZW50ID0gdXNlUHVibGljQ2xpZW50KHsgY2hhaW5JZCB9KTtcbiAgcmV0dXJuIHB1YmxpY0NsaWVudC5jaGFpbi5pZDtcbn1cblxuLy8gc3JjL2hvb2tzL3V0aWxzL3VzZUZvcmNlVXBkYXRlLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDQgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZSgpIHtcbiAgY29uc3QgWywgZm9yY2VVcGRhdGVdID0gUmVhY3Q0LnVzZVJlZHVjZXIoKHgpID0+IHggKyAxLCAwKTtcbiAgcmV0dXJuIGZvcmNlVXBkYXRlO1xufVxuXG4vLyBzcmMvaG9va3MvdXRpbHMvdXNlSW52YWxpZGF0ZU9uQmxvY2sudHNcbmltcG9ydCAqIGFzIFJlYWN0NyBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2hvb2tzL25ldHdvcmstc3RhdHVzL3VzZUJsb2NrTnVtYmVyLnRzXG5pbXBvcnQgeyBmZXRjaEJsb2NrTnVtYmVyIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBxdWVyeUtleTIoeyBjaGFpbklkLCBzY29wZUtleSB9KSB7XG4gIHJldHVybiBbeyBlbnRpdHk6IFwiYmxvY2tOdW1iZXJcIiwgY2hhaW5JZCwgc2NvcGVLZXkgfV07XG59XG5mdW5jdGlvbiBxdWVyeUZuMih7XG4gIHF1ZXJ5S2V5OiBbeyBjaGFpbklkIH1dXG59KSB7XG4gIHJldHVybiBmZXRjaEJsb2NrTnVtYmVyKHsgY2hhaW5JZCB9KTtcbn1cbmZ1bmN0aW9uIHVzZUJsb2NrTnVtYmVyKHtcbiAgY2FjaGVUaW1lID0gMCxcbiAgY2hhaW5JZDogY2hhaW5JZF8sXG4gIGVuYWJsZWQgPSB0cnVlLFxuICBzY29wZUtleSxcbiAgc3RhbGVUaW1lLFxuICBzdXNwZW5zZSxcbiAgd2F0Y2ggPSBmYWxzZSxcbiAgb25CbG9jayxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCh7IGNoYWluSWQ6IGNoYWluSWRfIH0pO1xuICBjb25zdCBwdWJsaWNDbGllbnQgPSB1c2VQdWJsaWNDbGllbnQoeyBjaGFpbklkIH0pO1xuICBjb25zdCB3ZWJTb2NrZXRQdWJsaWNDbGllbnQgPSB1c2VXZWJTb2NrZXRQdWJsaWNDbGllbnQoeyBjaGFpbklkIH0pO1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50MigpO1xuICBSZWFjdDUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVuYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCF3YXRjaCAmJiAhb25CbG9jaylcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBwdWJsaWNDbGllbnRfID0gd2ViU29ja2V0UHVibGljQ2xpZW50ID8/IHB1YmxpY0NsaWVudDtcbiAgICBjb25zdCB1bndhdGNoID0gcHVibGljQ2xpZW50Xy53YXRjaEJsb2NrTnVtYmVyKHtcbiAgICAgIG9uQmxvY2tOdW1iZXI6IChibG9ja051bWJlcikgPT4ge1xuICAgICAgICBpZiAod2F0Y2gpXG4gICAgICAgICAgcXVlcnlDbGllbnQuc2V0UXVlcnlEYXRhKHF1ZXJ5S2V5Mih7IGNoYWluSWQsIHNjb3BlS2V5IH0pLCBibG9ja051bWJlcik7XG4gICAgICAgIGlmIChvbkJsb2NrKVxuICAgICAgICAgIG9uQmxvY2soYmxvY2tOdW1iZXIpO1xuICAgICAgfSxcbiAgICAgIGVtaXRPbkJlZ2luOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHVud2F0Y2g7XG4gIH0sIFtcbiAgICBjaGFpbklkLFxuICAgIHNjb3BlS2V5LFxuICAgIG9uQmxvY2ssXG4gICAgcHVibGljQ2xpZW50LFxuICAgIHF1ZXJ5Q2xpZW50LFxuICAgIHdhdGNoLFxuICAgIHdlYlNvY2tldFB1YmxpY0NsaWVudCxcbiAgICBlbmFibGVkXG4gIF0pO1xuICByZXR1cm4gdXNlUXVlcnkocXVlcnlLZXkyKHsgc2NvcGVLZXksIGNoYWluSWQgfSksIHF1ZXJ5Rm4yLCB7XG4gICAgY2FjaGVUaW1lLFxuICAgIGVuYWJsZWQsXG4gICAgc3RhbGVUaW1lLFxuICAgIHN1c3BlbnNlLFxuICAgIG9uRXJyb3IsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbn1cblxuLy8gc3JjL2hvb2tzL25ldHdvcmstc3RhdHVzL3VzZUZlZURhdGEudHNcbmltcG9ydCB7IGZldGNoRmVlRGF0YSB9IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3Q2IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gcXVlcnlLZXkzKHtcbiAgY2hhaW5JZCxcbiAgZm9ybWF0VW5pdHMsXG4gIHNjb3BlS2V5XG59KSB7XG4gIHJldHVybiBbeyBlbnRpdHk6IFwiZmVlRGF0YVwiLCBjaGFpbklkLCBmb3JtYXRVbml0cywgc2NvcGVLZXkgfV07XG59XG5mdW5jdGlvbiBxdWVyeUZuMyh7XG4gIHF1ZXJ5S2V5OiBbeyBjaGFpbklkLCBmb3JtYXRVbml0cyB9XVxufSkge1xuICByZXR1cm4gZmV0Y2hGZWVEYXRhKHsgY2hhaW5JZCwgZm9ybWF0VW5pdHMgfSk7XG59XG5mdW5jdGlvbiB1c2VGZWVEYXRhKHtcbiAgY2FjaGVUaW1lLFxuICBjaGFpbklkOiBjaGFpbklkXyxcbiAgZW5hYmxlZCA9IHRydWUsXG4gIGZvcm1hdFVuaXRzID0gXCJnd2VpXCIsXG4gIHNjb3BlS2V5LFxuICBzdGFsZVRpbWUsXG4gIHN1c3BlbnNlLFxuICB3YXRjaCxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCh7IGNoYWluSWQ6IGNoYWluSWRfIH0pO1xuICBjb25zdCBxdWVyeUtleV8gPSBSZWFjdDYudXNlTWVtbyhcbiAgICAoKSA9PiBxdWVyeUtleTMoe1xuICAgICAgY2hhaW5JZCxcbiAgICAgIGZvcm1hdFVuaXRzLFxuICAgICAgc2NvcGVLZXlcbiAgICB9KSxcbiAgICBbY2hhaW5JZCwgZm9ybWF0VW5pdHMsIHNjb3BlS2V5XVxuICApO1xuICBjb25zdCBmZWVEYXRhUXVlcnkgPSB1c2VRdWVyeShxdWVyeUtleV8sIHF1ZXJ5Rm4zLCB7XG4gICAgY2FjaGVUaW1lLFxuICAgIGVuYWJsZWQsXG4gICAgc3RhbGVUaW1lLFxuICAgIHN1c3BlbnNlLFxuICAgIG9uRXJyb3IsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbiAgdXNlSW52YWxpZGF0ZU9uQmxvY2soe1xuICAgIGNoYWluSWQsXG4gICAgZW5hYmxlZDogQm9vbGVhbihlbmFibGVkICYmIHdhdGNoKSxcbiAgICBxdWVyeUtleTogcXVlcnlLZXlfXG4gIH0pO1xuICByZXR1cm4gZmVlRGF0YVF1ZXJ5O1xufVxuXG4vLyBzcmMvaG9va3MvdXRpbHMvdXNlSW52YWxpZGF0ZU9uQmxvY2sudHNcbmZ1bmN0aW9uIHVzZUludmFsaWRhdGVPbkJsb2NrKHtcbiAgY2hhaW5JZCxcbiAgZW5hYmxlZCxcbiAgcXVlcnlLZXk6IHF1ZXJ5S2V5MTdcbn0pIHtcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudDIoKTtcbiAgY29uc3Qgb25CbG9jayA9IFJlYWN0Ny51c2VDYWxsYmFjayhcbiAgICAoKSA9PiBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBxdWVyeUtleTE3IH0sIHsgY2FuY2VsUmVmZXRjaDogZmFsc2UgfSksXG4gICAgW3F1ZXJ5Q2xpZW50LCBxdWVyeUtleTE3XVxuICApO1xuICB1c2VCbG9ja051bWJlcih7XG4gICAgY2hhaW5JZCxcbiAgICBlbmFibGVkLFxuICAgIG9uQmxvY2s6IGVuYWJsZWQgPyBvbkJsb2NrIDogdm9pZCAwLFxuICAgIHNjb3BlS2V5OiBlbmFibGVkID8gdm9pZCAwIDogXCJpZGxlXCJcbiAgfSk7XG59XG5cbi8vIHNyYy9ob29rcy91dGlscy91c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhUcmFja2VkLnRzXG5pbXBvcnQgeyBkZWVwRXF1YWwgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0OCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yIGFzIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yMyB9IGZyb20gXCJ1c2Utc3luYy1leHRlcm5hbC1zdG9yZS9zaGltL3dpdGgtc2VsZWN0b3IuanNcIjtcbnZhciBpc1BsYWluT2JqZWN0MiA9IChvYmopID0+IHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbmZ1bmN0aW9uIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFRyYWNrZWQoc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QgPSBnZXRTbmFwc2hvdCwgaXNFcXVhbCA9IGRlZXBFcXVhbCkge1xuICBjb25zdCB0cmFja2VkS2V5cyA9IFJlYWN0OC51c2VSZWYoW10pO1xuICBjb25zdCByZXN1bHQgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcjMoXG4gICAgc3Vic2NyaWJlLFxuICAgIGdldFNuYXBzaG90LFxuICAgIGdldFNlcnZlclNuYXBzaG90LFxuICAgICh4KSA9PiB4LFxuICAgIChhLCBiKSA9PiB7XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdDIoYSkgJiYgaXNQbGFpbk9iamVjdDIoYikgJiYgdHJhY2tlZEtleXMuY3VycmVudC5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdHJhY2tlZEtleXMuY3VycmVudCkge1xuICAgICAgICAgIGNvbnN0IGVxdWFsID0gaXNFcXVhbChcbiAgICAgICAgICAgIGFba2V5XSxcbiAgICAgICAgICAgIGJba2V5XVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFlcXVhbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0VxdWFsKGEsIGIpO1xuICAgIH1cbiAgKTtcbiAgaWYgKGlzUGxhaW5PYmplY3QyKHJlc3VsdCkpIHtcbiAgICBjb25zdCB0cmFja2VkUmVzdWx0ID0geyAuLi5yZXN1bHQgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcbiAgICAgIHRyYWNrZWRSZXN1bHQsXG4gICAgICBPYmplY3QuZW50cmllcyh0cmFja2VkUmVzdWx0KS5yZWR1Y2UoXG4gICAgICAgIChyZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5yZXMsXG4gICAgICAgICAgICBba2V5XToge1xuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYWNrZWRLZXlzLmN1cnJlbnQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgdHJhY2tlZEtleXMuY3VycmVudC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gdHJhY2tlZFJlc3VsdDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvaG9va3MvYWNjb3VudHMvdXNlQWNjb3VudC50c1xuZnVuY3Rpb24gdXNlQWNjb3VudCh7IG9uQ29ubmVjdCwgb25EaXNjb25uZWN0IH0gPSB7fSkge1xuICBjb25zdCBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgY29uc3Qgd2F0Y2hBY2NvdW50XyA9IFJlYWN0OS51c2VDYWxsYmFjayhcbiAgICAoY2FsbGJhY2spID0+IHdhdGNoQWNjb3VudChjYWxsYmFjayksXG4gICAgW2NvbmZpZ11cbiAgKTtcbiAgY29uc3QgYWNjb3VudCA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFRyYWNrZWQod2F0Y2hBY2NvdW50XywgZ2V0QWNjb3VudCk7XG4gIGNvbnN0IHByZXZpb3VzQWNjb3VudFJlZiA9IFJlYWN0OS51c2VSZWYoKTtcbiAgY29uc3QgcHJldmlvdXNBY2NvdW50ID0gcHJldmlvdXNBY2NvdW50UmVmLmN1cnJlbnQ7XG4gIFJlYWN0OS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcmV2aW91c0FjY291bnQ/LnN0YXR1cyAhPT0gXCJjb25uZWN0ZWRcIiAmJiBhY2NvdW50LnN0YXR1cyA9PT0gXCJjb25uZWN0ZWRcIikge1xuICAgICAgb25Db25uZWN0Py4oe1xuICAgICAgICBhZGRyZXNzOiBhY2NvdW50LmFkZHJlc3MsXG4gICAgICAgIGNvbm5lY3RvcjogYWNjb3VudC5jb25uZWN0b3IsXG4gICAgICAgIGlzUmVjb25uZWN0ZWQ6IHByZXZpb3VzQWNjb3VudD8uc3RhdHVzID09PSBcInJlY29ubmVjdGluZ1wiIHx8IHByZXZpb3VzQWNjb3VudD8uc3RhdHVzID09PSB2b2lkIDBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocHJldmlvdXNBY2NvdW50Py5zdGF0dXMgPT09IFwiY29ubmVjdGVkXCIgJiYgYWNjb3VudC5zdGF0dXMgPT09IFwiZGlzY29ubmVjdGVkXCIpIHtcbiAgICAgIG9uRGlzY29ubmVjdD8uKCk7XG4gICAgfVxuICAgIHByZXZpb3VzQWNjb3VudFJlZi5jdXJyZW50ID0gYWNjb3VudDtcbiAgfSwgW29uQ29ubmVjdCwgb25EaXNjb25uZWN0LCBwcmV2aW91c0FjY291bnQsIGFjY291bnRdKTtcbiAgcmV0dXJuIGFjY291bnQ7XG59XG5cbi8vIHNyYy9ob29rcy9hY2NvdW50cy91c2VCYWxhbmNlLnRzXG5pbXBvcnQgeyBmZXRjaEJhbGFuY2UgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTAgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBxdWVyeUtleTQoe1xuICBhZGRyZXNzLFxuICBjaGFpbklkLFxuICBmb3JtYXRVbml0cyxcbiAgc2NvcGVLZXksXG4gIHRva2VuXG59KSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgZW50aXR5OiBcImJhbGFuY2VcIixcbiAgICAgIGFkZHJlc3MsXG4gICAgICBjaGFpbklkLFxuICAgICAgZm9ybWF0VW5pdHMsXG4gICAgICBzY29wZUtleSxcbiAgICAgIHRva2VuXG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gcXVlcnlGbjQoe1xuICBxdWVyeUtleTogW3sgYWRkcmVzcywgY2hhaW5JZCwgZm9ybWF0VW5pdHMsIHRva2VuIH1dXG59KSB7XG4gIGlmICghYWRkcmVzcylcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJhZGRyZXNzIGlzIHJlcXVpcmVkXCIpO1xuICByZXR1cm4gZmV0Y2hCYWxhbmNlKHsgYWRkcmVzcywgY2hhaW5JZCwgZm9ybWF0VW5pdHMsIHRva2VuIH0pO1xufVxuZnVuY3Rpb24gdXNlQmFsYW5jZSh7XG4gIGFkZHJlc3MsXG4gIGNhY2hlVGltZSxcbiAgY2hhaW5JZDogY2hhaW5JZF8sXG4gIGVuYWJsZWQgPSB0cnVlLFxuICBmb3JtYXRVbml0cyxcbiAgc2NvcGVLZXksXG4gIHN0YWxlVGltZSxcbiAgc3VzcGVuc2UsXG4gIHRva2VuLFxuICB3YXRjaCxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCh7IGNoYWluSWQ6IGNoYWluSWRfIH0pO1xuICBjb25zdCBxdWVyeUtleV8gPSBSZWFjdDEwLnVzZU1lbW8oXG4gICAgKCkgPT4gcXVlcnlLZXk0KHsgYWRkcmVzcywgY2hhaW5JZCwgZm9ybWF0VW5pdHMsIHNjb3BlS2V5LCB0b2tlbiB9KSxcbiAgICBbYWRkcmVzcywgY2hhaW5JZCwgZm9ybWF0VW5pdHMsIHNjb3BlS2V5LCB0b2tlbl1cbiAgKTtcbiAgY29uc3QgYmFsYW5jZVF1ZXJ5ID0gdXNlUXVlcnkocXVlcnlLZXlfLCBxdWVyeUZuNCwge1xuICAgIGNhY2hlVGltZSxcbiAgICBlbmFibGVkOiBCb29sZWFuKGVuYWJsZWQgJiYgYWRkcmVzcyksXG4gICAgc3RhbGVUaW1lLFxuICAgIHN1c3BlbnNlLFxuICAgIG9uRXJyb3IsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbiAgdXNlSW52YWxpZGF0ZU9uQmxvY2soe1xuICAgIGNoYWluSWQsXG4gICAgZW5hYmxlZDogQm9vbGVhbihlbmFibGVkICYmIHdhdGNoICYmIGFkZHJlc3MpLFxuICAgIHF1ZXJ5S2V5OiBxdWVyeUtleV9cbiAgfSk7XG4gIHJldHVybiBiYWxhbmNlUXVlcnk7XG59XG5cbi8vIHNyYy9ob29rcy9hY2NvdW50cy91c2VDb25uZWN0LnRzXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDExIGZyb20gXCJyZWFjdFwiO1xudmFyIG11dGF0aW9uS2V5ID0gKGFyZ3MpID0+IFt7IGVudGl0eTogXCJjb25uZWN0XCIsIC4uLmFyZ3MgfV07XG52YXIgbXV0YXRpb25GbiA9IChhcmdzKSA9PiB7XG4gIGNvbnN0IHsgY29ubmVjdG9yLCBjaGFpbklkIH0gPSBhcmdzO1xuICBpZiAoIWNvbm5lY3RvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25uZWN0b3IgaXMgcmVxdWlyZWRcIik7XG4gIHJldHVybiBjb25uZWN0KHsgY29ubmVjdG9yLCBjaGFpbklkIH0pO1xufTtcbmZ1bmN0aW9uIHVzZUNvbm5lY3Qoe1xuICBjaGFpbklkLFxuICBjb25uZWN0b3IsXG4gIG9uRXJyb3IsXG4gIG9uTXV0YXRlLFxuICBvblNldHRsZWQsXG4gIG9uU3VjY2Vzc1xufSA9IHt9KSB7XG4gIGNvbnN0IGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIG11dGF0ZSxcbiAgICBtdXRhdGVBc3luYyxcbiAgICByZXNldCxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH0gPSB1c2VNdXRhdGlvbihtdXRhdGlvbktleSh7IGNvbm5lY3RvciwgY2hhaW5JZCB9KSwgbXV0YXRpb25Gbiwge1xuICAgIG9uRXJyb3IsXG4gICAgb25NdXRhdGUsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbiAgY29uc3QgY29ubmVjdDIgPSBSZWFjdDExLnVzZUNhbGxiYWNrKFxuICAgIChhcmdzKSA9PiB7XG4gICAgICByZXR1cm4gbXV0YXRlKHtcbiAgICAgICAgY2hhaW5JZDogYXJncz8uY2hhaW5JZCA/PyBjaGFpbklkLFxuICAgICAgICBjb25uZWN0b3I6IGFyZ3M/LmNvbm5lY3RvciA/PyBjb25uZWN0b3JcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2NoYWluSWQsIGNvbm5lY3RvciwgbXV0YXRlXVxuICApO1xuICBjb25zdCBjb25uZWN0QXN5bmMgPSBSZWFjdDExLnVzZUNhbGxiYWNrKFxuICAgIChhcmdzKSA9PiB7XG4gICAgICByZXR1cm4gbXV0YXRlQXN5bmMoe1xuICAgICAgICBjaGFpbklkOiBhcmdzPy5jaGFpbklkID8/IGNoYWluSWQsXG4gICAgICAgIGNvbm5lY3RvcjogYXJncz8uY29ubmVjdG9yID8/IGNvbm5lY3RvclxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbY2hhaW5JZCwgY29ubmVjdG9yLCBtdXRhdGVBc3luY11cbiAgKTtcbiAgcmV0dXJuIHtcbiAgICBjb25uZWN0OiBjb25uZWN0MixcbiAgICBjb25uZWN0QXN5bmMsXG4gICAgY29ubmVjdG9yczogY29uZmlnLmNvbm5lY3RvcnMsXG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIHBlbmRpbmdDb25uZWN0b3I6IHZhcmlhYmxlcz8uY29ubmVjdG9yLFxuICAgIHJlc2V0LFxuICAgIHN0YXR1cyxcbiAgICB2YXJpYWJsZXNcbiAgfTtcbn1cblxuLy8gc3JjL2hvb2tzL2FjY291bnRzL3VzZURpc2Nvbm5lY3QudHNcbmltcG9ydCB7IGRpc2Nvbm5lY3QgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbnZhciBtdXRhdGlvbktleTIgPSBbeyBlbnRpdHk6IFwiZGlzY29ubmVjdFwiIH1dO1xudmFyIG11dGF0aW9uRm4yID0gKCkgPT4gZGlzY29ubmVjdCgpO1xuZnVuY3Rpb24gdXNlRGlzY29ubmVjdCh7XG4gIG9uRXJyb3IsXG4gIG9uTXV0YXRlLFxuICBvblNldHRsZWQsXG4gIG9uU3VjY2Vzc1xufSA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIG11dGF0ZTogZGlzY29ubmVjdDIsXG4gICAgbXV0YXRlQXN5bmM6IGRpc2Nvbm5lY3RBc3luYyxcbiAgICByZXNldCxcbiAgICBzdGF0dXNcbiAgfSA9IHVzZU11dGF0aW9uKG11dGF0aW9uS2V5MiwgbXV0YXRpb25GbjIsIHtcbiAgICAuLi5vbkVycm9yID8ge1xuICAgICAgb25FcnJvcihlcnJvcjIsIF92YXJpYWJsZXMsIGNvbnRleHQpIHtcbiAgICAgICAgb25FcnJvcihlcnJvcjIsIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH0gOiB7fSxcbiAgICBvbk11dGF0ZSxcbiAgICAuLi5vblNldHRsZWQgPyB7XG4gICAgICBvblNldHRsZWQoX2RhdGEsIGVycm9yMiwgX3ZhcmlhYmxlcywgY29udGV4dCkge1xuICAgICAgICBvblNldHRsZWQoZXJyb3IyLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9IDoge30sXG4gICAgLi4ub25TdWNjZXNzID8ge1xuICAgICAgb25TdWNjZXNzKF9kYXRhLCBfdmFyaWFibGVzLCBjb250ZXh0KSB7XG4gICAgICAgIG9uU3VjY2Vzcyhjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9IDoge31cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgZGlzY29ubmVjdDogZGlzY29ubmVjdDIsXG4gICAgZGlzY29ubmVjdEFzeW5jLFxuICAgIGVycm9yLFxuICAgIGlzRXJyb3IsXG4gICAgaXNJZGxlLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc1N1Y2Nlc3MsXG4gICAgcmVzZXQsXG4gICAgc3RhdHVzXG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy9hY2NvdW50cy91c2VOZXR3b3JrLnRzXG5pbXBvcnQgeyBnZXROZXR3b3JrLCB3YXRjaE5ldHdvcmsgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrNSB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlTmV0d29yaygpIHtcbiAgY29uc3QgY29uZmlnID0gdXNlQ29uZmlnKCk7XG4gIGNvbnN0IHdhdGNoTmV0d29ya18gPSB1c2VDYWxsYmFjazUoXG4gICAgKGNhbGxiYWNrKSA9PiB3YXRjaE5ldHdvcmsoY2FsbGJhY2spLFxuICAgIFtjb25maWddXG4gICk7XG4gIHJldHVybiB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhUcmFja2VkKHdhdGNoTmV0d29ya18sIGdldE5ldHdvcmspO1xufVxuXG4vLyBzcmMvaG9va3MvYWNjb3VudHMvdXNlU2lnbk1lc3NhZ2UudHNcbmltcG9ydCB7IHNpZ25NZXNzYWdlIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDEyIGZyb20gXCJyZWFjdFwiO1xudmFyIG11dGF0aW9uS2V5MyA9IChhcmdzKSA9PiBbeyBlbnRpdHk6IFwic2lnbk1lc3NhZ2VcIiwgLi4uYXJncyB9XTtcbnZhciBtdXRhdGlvbkZuMyA9IChhcmdzKSA9PiB7XG4gIGNvbnN0IHsgbWVzc2FnZSB9ID0gYXJncztcbiAgaWYgKCFtZXNzYWdlKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1lc3NhZ2UgaXMgcmVxdWlyZWRcIik7XG4gIHJldHVybiBzaWduTWVzc2FnZSh7IG1lc3NhZ2UgfSk7XG59O1xuZnVuY3Rpb24gdXNlU2lnbk1lc3NhZ2Uoe1xuICBtZXNzYWdlLFxuICBvbkVycm9yLFxuICBvbk11dGF0ZSxcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIG11dGF0ZSxcbiAgICBtdXRhdGVBc3luYyxcbiAgICByZXNldCxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH0gPSB1c2VNdXRhdGlvbihtdXRhdGlvbktleTMoeyBtZXNzYWdlIH0pLCBtdXRhdGlvbkZuMywge1xuICAgIG9uRXJyb3IsXG4gICAgb25NdXRhdGUsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbiAgY29uc3Qgc2lnbk1lc3NhZ2UyID0gUmVhY3QxMi51c2VDYWxsYmFjayhcbiAgICAoYXJncykgPT4gbXV0YXRlKGFyZ3MgfHwgeyBtZXNzYWdlIH0pLFxuICAgIFttZXNzYWdlLCBtdXRhdGVdXG4gICk7XG4gIGNvbnN0IHNpZ25NZXNzYWdlQXN5bmMgPSBSZWFjdDEyLnVzZUNhbGxiYWNrKFxuICAgIChhcmdzKSA9PiBtdXRhdGVBc3luYyhhcmdzIHx8IHsgbWVzc2FnZSB9KSxcbiAgICBbbWVzc2FnZSwgbXV0YXRlQXN5bmNdXG4gICk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIHJlc2V0LFxuICAgIHNpZ25NZXNzYWdlOiBzaWduTWVzc2FnZTIsXG4gICAgc2lnbk1lc3NhZ2VBc3luYyxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy9hY2NvdW50cy91c2VTaWduVHlwZWREYXRhLnRzXG5pbXBvcnQgeyBzaWduVHlwZWREYXRhIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDEzIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gbXV0YXRpb25LZXk0KHsgZG9tYWluLCB0eXBlcywgbWVzc2FnZSwgcHJpbWFyeVR5cGUgfSkge1xuICByZXR1cm4gW1xuICAgIHsgZW50aXR5OiBcInNpZ25UeXBlZERhdGFcIiwgZG9tYWluLCB0eXBlcywgbWVzc2FnZSwgcHJpbWFyeVR5cGUgfVxuICBdO1xufVxuZnVuY3Rpb24gbXV0YXRpb25GbjQoYXJncykge1xuICBjb25zdCB7IGRvbWFpbiwgdHlwZXMsIHByaW1hcnlUeXBlLCBtZXNzYWdlIH0gPSBhcmdzO1xuICBpZiAoIWRvbWFpbilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJkb21haW4gaXMgcmVxdWlyZWRcIik7XG4gIGlmICghdHlwZXMpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidHlwZXMgaXMgcmVxdWlyZWRcIik7XG4gIGlmICghcHJpbWFyeVR5cGUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwicHJpbWFyeVR5cGUgaXMgcmVxdWlyZWRcIik7XG4gIGlmICghbWVzc2FnZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtZXNzYWdlIGlzIHJlcXVpcmVkXCIpO1xuICByZXR1cm4gc2lnblR5cGVkRGF0YSh7XG4gICAgZG9tYWluLFxuICAgIG1lc3NhZ2UsXG4gICAgcHJpbWFyeVR5cGUsXG4gICAgdHlwZXNcbiAgfSk7XG59XG5mdW5jdGlvbiB1c2VTaWduVHlwZWREYXRhKHtcbiAgZG9tYWluLFxuICB0eXBlcyxcbiAgbWVzc2FnZSxcbiAgcHJpbWFyeVR5cGUsXG4gIG9uRXJyb3IsXG4gIG9uTXV0YXRlLFxuICBvblNldHRsZWQsXG4gIG9uU3VjY2Vzc1xufSA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIGVycm9yLFxuICAgIGlzRXJyb3IsXG4gICAgaXNJZGxlLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc1N1Y2Nlc3MsXG4gICAgbXV0YXRlLFxuICAgIG11dGF0ZUFzeW5jLFxuICAgIHJlc2V0LFxuICAgIHN0YXR1cyxcbiAgICB2YXJpYWJsZXNcbiAgfSA9IHVzZU11dGF0aW9uKFxuICAgIG11dGF0aW9uS2V5NCh7XG4gICAgICBkb21haW4sXG4gICAgICBtZXNzYWdlLFxuICAgICAgcHJpbWFyeVR5cGUsXG4gICAgICB0eXBlc1xuICAgIH0pLFxuICAgIG11dGF0aW9uRm40LFxuICAgIHtcbiAgICAgIG9uRXJyb3IsXG4gICAgICBvbk11dGF0ZSxcbiAgICAgIG9uU2V0dGxlZCxcbiAgICAgIG9uU3VjY2Vzc1xuICAgIH1cbiAgKTtcbiAgY29uc3Qgc2lnblR5cGVkRGF0YTIgPSBSZWFjdDEzLnVzZUNhbGxiYWNrKFxuICAgIChhcmdzKSA9PiBtdXRhdGUoe1xuICAgICAgZG9tYWluOiBhcmdzPy5kb21haW4gPz8gZG9tYWluLFxuICAgICAgdHlwZXM6IGFyZ3M/LnR5cGVzID8/IHR5cGVzLFxuICAgICAgbWVzc2FnZTogYXJncz8ubWVzc2FnZSA/PyBtZXNzYWdlLFxuICAgICAgcHJpbWFyeVR5cGU6IGFyZ3M/LnByaW1hcnlUeXBlID8/IHByaW1hcnlUeXBlXG4gICAgfSksXG4gICAgW2RvbWFpbiwgdHlwZXMsIHByaW1hcnlUeXBlLCBtZXNzYWdlLCBtdXRhdGVdXG4gICk7XG4gIGNvbnN0IHNpZ25UeXBlZERhdGFBc3luYyA9IFJlYWN0MTMudXNlQ2FsbGJhY2soXG4gICAgKGFyZ3MpID0+IG11dGF0ZUFzeW5jKHtcbiAgICAgIGRvbWFpbjogYXJncz8uZG9tYWluID8/IGRvbWFpbixcbiAgICAgIHR5cGVzOiBhcmdzPy50eXBlcyA/PyB0eXBlcyxcbiAgICAgIG1lc3NhZ2U6IGFyZ3M/Lm1lc3NhZ2UgPz8gbWVzc2FnZSxcbiAgICAgIHByaW1hcnlUeXBlOiBhcmdzPy5wcmltYXJ5VHlwZSA/PyBwcmltYXJ5VHlwZVxuICAgIH0pLFxuICAgIFtkb21haW4sIHR5cGVzLCBwcmltYXJ5VHlwZSwgbWVzc2FnZSwgbXV0YXRlQXN5bmNdXG4gICk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIHJlc2V0LFxuICAgIHNpZ25UeXBlZERhdGE6IHNpZ25UeXBlZERhdGEyLFxuICAgIHNpZ25UeXBlZERhdGFBc3luYyxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy9hY2NvdW50cy91c2VTd2l0Y2hOZXR3b3JrLnRzXG5pbXBvcnQgeyBzd2l0Y2hOZXR3b3JrIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDE0IGZyb20gXCJyZWFjdFwiO1xudmFyIG11dGF0aW9uS2V5NSA9IChhcmdzKSA9PiBbeyBlbnRpdHk6IFwic3dpdGNoTmV0d29ya1wiLCAuLi5hcmdzIH1dO1xudmFyIG11dGF0aW9uRm41ID0gKGFyZ3MpID0+IHtcbiAgY29uc3QgeyBjaGFpbklkIH0gPSBhcmdzO1xuICBpZiAoIWNoYWluSWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY2hhaW5JZCBpcyByZXF1aXJlZFwiKTtcbiAgcmV0dXJuIHN3aXRjaE5ldHdvcmsoeyBjaGFpbklkIH0pO1xufTtcbmZ1bmN0aW9uIHVzZVN3aXRjaE5ldHdvcmsoe1xuICBjaGFpbklkLFxuICB0aHJvd0ZvclN3aXRjaENoYWluTm90U3VwcG9ydGVkLFxuICBvbkVycm9yLFxuICBvbk11dGF0ZSxcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIG11dGF0ZSxcbiAgICBtdXRhdGVBc3luYyxcbiAgICByZXNldCxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH0gPSB1c2VNdXRhdGlvbihtdXRhdGlvbktleTUoeyBjaGFpbklkIH0pLCBtdXRhdGlvbkZuNSwge1xuICAgIG9uRXJyb3IsXG4gICAgb25NdXRhdGUsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbiAgY29uc3Qgc3dpdGNoTmV0d29ya18gPSBSZWFjdDE0LnVzZUNhbGxiYWNrKFxuICAgIChjaGFpbklkXykgPT4gbXV0YXRlKHsgY2hhaW5JZDogY2hhaW5JZF8gPz8gY2hhaW5JZCB9KSxcbiAgICBbY2hhaW5JZCwgbXV0YXRlXVxuICApO1xuICBjb25zdCBzd2l0Y2hOZXR3b3JrQXN5bmNfID0gUmVhY3QxNC51c2VDYWxsYmFjayhcbiAgICAoY2hhaW5JZF8pID0+IG11dGF0ZUFzeW5jKHsgY2hhaW5JZDogY2hhaW5JZF8gPz8gY2hhaW5JZCB9KSxcbiAgICBbY2hhaW5JZCwgbXV0YXRlQXN5bmNdXG4gICk7XG4gIFJlYWN0MTQudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bndhdGNoID0gY29uZmlnLnN1YnNjcmliZShcbiAgICAgICh7IGNoYWlucywgY29ubmVjdG9yIH0pID0+ICh7XG4gICAgICAgIGNoYWlucyxcbiAgICAgICAgY29ubmVjdG9yXG4gICAgICB9KSxcbiAgICAgIGZvcmNlVXBkYXRlXG4gICAgKTtcbiAgICByZXR1cm4gdW53YXRjaDtcbiAgfSwgW2NvbmZpZywgZm9yY2VVcGRhdGVdKTtcbiAgbGV0IHN3aXRjaE5ldHdvcmsyO1xuICBsZXQgc3dpdGNoTmV0d29ya0FzeW5jO1xuICBjb25zdCBzdXBwb3J0c1N3aXRjaENoYWluID0gISFjb25maWcuY29ubmVjdG9yPy5zd2l0Y2hDaGFpbjtcbiAgaWYgKHRocm93Rm9yU3dpdGNoQ2hhaW5Ob3RTdXBwb3J0ZWQgfHwgc3VwcG9ydHNTd2l0Y2hDaGFpbikge1xuICAgIHN3aXRjaE5ldHdvcmsyID0gc3dpdGNoTmV0d29ya187XG4gICAgc3dpdGNoTmV0d29ya0FzeW5jID0gc3dpdGNoTmV0d29ya0FzeW5jXztcbiAgfVxuICByZXR1cm4ge1xuICAgIGNoYWluczogY29uZmlnLmNoYWlucyA/PyBbXSxcbiAgICBkYXRhLFxuICAgIGVycm9yLFxuICAgIGlzRXJyb3IsXG4gICAgaXNJZGxlLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc1N1Y2Nlc3MsXG4gICAgcGVuZGluZ0NoYWluSWQ6IHZhcmlhYmxlcz8uY2hhaW5JZCxcbiAgICByZXNldCxcbiAgICBzdGF0dXMsXG4gICAgc3dpdGNoTmV0d29yazogc3dpdGNoTmV0d29yazIsXG4gICAgc3dpdGNoTmV0d29ya0FzeW5jLFxuICAgIHZhcmlhYmxlc1xuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvY29udHJhY3RzL3VzZUNvbnRyYWN0RXZlbnQudHNcbmltcG9ydCAqIGFzIFJlYWN0MTUgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDb250cmFjdEV2ZW50KHtcbiAgYWRkcmVzcyxcbiAgY2hhaW5JZCxcbiAgYWJpLFxuICBsaXN0ZW5lcixcbiAgZXZlbnROYW1lXG59ID0ge30pIHtcbiAgY29uc3QgcHVibGljQ2xpZW50ID0gdXNlUHVibGljQ2xpZW50KHsgY2hhaW5JZCB9KTtcbiAgY29uc3Qgd2ViU29ja2V0UHVibGljQ2xpZW50ID0gdXNlV2ViU29ja2V0UHVibGljQ2xpZW50KHsgY2hhaW5JZCB9KTtcbiAgY29uc3QgdW53YXRjaCA9IFJlYWN0MTUudXNlUmVmKCk7XG4gIFJlYWN0MTUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFiaSB8fCAhYWRkcmVzcyB8fCAhZXZlbnROYW1lKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHB1YmxpY0NsaWVudF8gPSB3ZWJTb2NrZXRQdWJsaWNDbGllbnQgfHwgcHVibGljQ2xpZW50O1xuICAgIHVud2F0Y2guY3VycmVudCA9IHB1YmxpY0NsaWVudF8ud2F0Y2hDb250cmFjdEV2ZW50KHtcbiAgICAgIGFiaSxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBldmVudE5hbWUsXG4gICAgICBvbkxvZ3M6IGxpc3RlbmVyXG4gICAgfSk7XG4gICAgcmV0dXJuIHVud2F0Y2guY3VycmVudDtcbiAgfSwgW2FiaSwgYWRkcmVzcywgZXZlbnROYW1lLCBwdWJsaWNDbGllbnQudWlkLCB3ZWJTb2NrZXRQdWJsaWNDbGllbnQ/LnVpZF0pO1xuICByZXR1cm4gdW53YXRjaC5jdXJyZW50O1xufVxuXG4vLyBzcmMvaG9va3MvY29udHJhY3RzL3VzZUNvbnRyYWN0SW5maW5pdGVSZWFkcy50c1xuaW1wb3J0IHsgcmVwbGFjZUVxdWFsRGVlcCB9IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtcXVlcnlcIjtcbmltcG9ydCB7IGRlZXBFcXVhbCBhcyBkZWVwRXF1YWwyLCByZWFkQ29udHJhY3RzIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDE2IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gcXVlcnlLZXk1KHtcbiAgYWxsb3dGYWlsdXJlLFxuICBibG9ja051bWJlcixcbiAgYmxvY2tUYWcsXG4gIGNhY2hlS2V5LFxuICBzY29wZUtleVxufSkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGVudGl0eTogXCJyZWFkQ29udHJhY3RzSW5maW5pdGVcIixcbiAgICAgIGFsbG93RmFpbHVyZSxcbiAgICAgIGJsb2NrTnVtYmVyLFxuICAgICAgYmxvY2tUYWcsXG4gICAgICBjYWNoZUtleSxcbiAgICAgIHNjb3BlS2V5XG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gcXVlcnlGbjUoe1xuICBjb250cmFjdHNcbn0pIHtcbiAgcmV0dXJuICh7XG4gICAgcXVlcnlLZXk6IFt7IGFsbG93RmFpbHVyZSwgYmxvY2tOdW1iZXIsIGJsb2NrVGFnIH1dLFxuICAgIHBhZ2VQYXJhbVxuICB9KSA9PiB7XG4gICAgcmV0dXJuIHJlYWRDb250cmFjdHMoe1xuICAgICAgYWxsb3dGYWlsdXJlLFxuICAgICAgYmxvY2tOdW1iZXIsXG4gICAgICBibG9ja1RhZyxcbiAgICAgIGNvbnRyYWN0czogY29udHJhY3RzKHBhZ2VQYXJhbSB8fCB2b2lkIDApXG4gICAgfSk7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VDb250cmFjdEluZmluaXRlUmVhZHMoe1xuICBhbGxvd0ZhaWx1cmUsXG4gIGJsb2NrTnVtYmVyLFxuICBibG9ja1RhZyxcbiAgY2FjaGVLZXksXG4gIGNhY2hlVGltZSxcbiAgY29udHJhY3RzLFxuICBlbmFibGVkOiBlbmFibGVkXyA9IHRydWUsXG4gIGdldE5leHRQYWdlUGFyYW0sXG4gIGlzRGF0YUVxdWFsLFxuICBrZWVwUHJldmlvdXNEYXRhLFxuICBvbkVycm9yLFxuICBvblNldHRsZWQsXG4gIG9uU3VjY2VzcyxcbiAgc2NvcGVLZXksXG4gIHNlbGVjdCxcbiAgc3RhbGVUaW1lLFxuICBzdHJ1Y3R1cmFsU2hhcmluZyA9IChvbGREYXRhLCBuZXdEYXRhKSA9PiBkZWVwRXF1YWwyKG9sZERhdGEsIG5ld0RhdGEpID8gb2xkRGF0YSA6IHJlcGxhY2VFcXVhbERlZXAob2xkRGF0YSwgbmV3RGF0YSksXG4gIHN1c3BlbnNlXG59KSB7XG4gIGNvbnN0IHF1ZXJ5S2V5XyA9IFJlYWN0MTYudXNlTWVtbyhcbiAgICAoKSA9PiBxdWVyeUtleTUoeyBhbGxvd0ZhaWx1cmUsIGJsb2NrTnVtYmVyLCBibG9ja1RhZywgY2FjaGVLZXksIHNjb3BlS2V5IH0pLFxuICAgIFthbGxvd0ZhaWx1cmUsIGJsb2NrTnVtYmVyLCBibG9ja1RhZywgY2FjaGVLZXksIHNjb3BlS2V5XVxuICApO1xuICBjb25zdCBlbmFibGVkID0gUmVhY3QxNi51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBlbmFibGVkMiA9IEJvb2xlYW4oZW5hYmxlZF8gJiYgY29udHJhY3RzKTtcbiAgICByZXR1cm4gZW5hYmxlZDI7XG4gIH0sIFtjb250cmFjdHMsIGVuYWJsZWRfXSk7XG4gIHJldHVybiB1c2VJbmZpbml0ZVF1ZXJ5KHF1ZXJ5S2V5XywgcXVlcnlGbjUoeyBjb250cmFjdHMgfSksIHtcbiAgICBjYWNoZVRpbWUsXG4gICAgZW5hYmxlZCxcbiAgICBnZXROZXh0UGFnZVBhcmFtLFxuICAgIGlzRGF0YUVxdWFsLFxuICAgIGtlZXBQcmV2aW91c0RhdGEsXG4gICAgc2VsZWN0LFxuICAgIHN0YWxlVGltZSxcbiAgICBzdHJ1Y3R1cmFsU2hhcmluZyxcbiAgICBzdXNwZW5zZSxcbiAgICBvbkVycm9yLFxuICAgIG9uU2V0dGxlZCxcbiAgICBvblN1Y2Nlc3NcbiAgfSk7XG59XG5mdW5jdGlvbiBwYWdpbmF0ZWRJbmRleGVzQ29uZmlnKGZuLCB7XG4gIHBlclBhZ2UsXG4gIHN0YXJ0LFxuICBkaXJlY3Rpb25cbn0pIHtcbiAgY29uc3QgY29udHJhY3RzID0gKHBhZ2UgPSAwKSA9PiBbLi4uQXJyYXkocGVyUGFnZSkua2V5cygpXS5tYXAoKGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gXCJpbmNyZW1lbnRcIiA/IHN0YXJ0ICsgaW5kZXggKyBwYWdlICogcGVyUGFnZSA6IHN0YXJ0IC0gaW5kZXggLSBwYWdlICogcGVyUGFnZTtcbiAgfSkuZmlsdGVyKChpbmRleCkgPT4gaW5kZXggPj0gMCkuZmxhdE1hcChmbik7XG4gIHJldHVybiB7XG4gICAgY29udHJhY3RzLFxuICAgIGdldE5leHRQYWdlUGFyYW0obGFzdFBhZ2UsIHBhZ2VzKSB7XG4gICAgICByZXR1cm4gbGFzdFBhZ2U/Lmxlbmd0aCA9PT0gcGVyUGFnZSA/IHBhZ2VzLmxlbmd0aCA6IHZvaWQgMDtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy9jb250cmFjdHMvdXNlQ29udHJhY3RSZWFkLnRzXG5pbXBvcnQgeyByZXBsYWNlRXF1YWxEZWVwIGFzIHJlcGxhY2VFcXVhbERlZXAyIH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeVwiO1xuaW1wb3J0IHsgZGVlcEVxdWFsIGFzIGRlZXBFcXVhbDMsIHJlYWRDb250cmFjdCB9IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QxNyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHF1ZXJ5S2V5Nih7XG4gIGFjY291bnQsXG4gIGFkZHJlc3MsXG4gIGFyZ3MsXG4gIGJsb2NrTnVtYmVyLFxuICBibG9ja1RhZyxcbiAgY2hhaW5JZCxcbiAgZnVuY3Rpb25OYW1lLFxuICBzY29wZUtleVxufSkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGVudGl0eTogXCJyZWFkQ29udHJhY3RcIixcbiAgICAgIGFjY291bnQsXG4gICAgICBhZGRyZXNzLFxuICAgICAgYXJncyxcbiAgICAgIGJsb2NrTnVtYmVyLFxuICAgICAgYmxvY2tUYWcsXG4gICAgICBjaGFpbklkLFxuICAgICAgZnVuY3Rpb25OYW1lLFxuICAgICAgc2NvcGVLZXlcbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiBxdWVyeUZuNih7IGFiaSB9KSB7XG4gIHJldHVybiBhc3luYyAoe1xuICAgIHF1ZXJ5S2V5OiBbXG4gICAgICB7IGFjY291bnQsIGFkZHJlc3MsIGFyZ3MsIGJsb2NrTnVtYmVyLCBibG9ja1RhZywgY2hhaW5JZCwgZnVuY3Rpb25OYW1lIH1cbiAgICBdXG4gIH0pID0+IHtcbiAgICBpZiAoIWFiaSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFiaSBpcyByZXF1aXJlZFwiKTtcbiAgICBpZiAoIWFkZHJlc3MpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhZGRyZXNzIGlzIHJlcXVpcmVkXCIpO1xuICAgIHJldHVybiBhd2FpdCByZWFkQ29udHJhY3Qoe1xuICAgICAgYWNjb3VudCxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBhcmdzLFxuICAgICAgYmxvY2tOdW1iZXIsXG4gICAgICBibG9ja1RhZyxcbiAgICAgIGNoYWluSWQsXG4gICAgICBhYmksXG4gICAgICBmdW5jdGlvbk5hbWVcbiAgICB9KSA/PyBudWxsO1xuICB9O1xufVxuZnVuY3Rpb24gdXNlQ29udHJhY3RSZWFkKHtcbiAgYWJpLFxuICBhZGRyZXNzLFxuICBhY2NvdW50LFxuICBhcmdzLFxuICBibG9ja051bWJlcjogYmxvY2tOdW1iZXJPdmVycmlkZSxcbiAgYmxvY2tUYWcsXG4gIGNhY2hlT25CbG9jayA9IGZhbHNlLFxuICBjYWNoZVRpbWUsXG4gIGNoYWluSWQ6IGNoYWluSWRfLFxuICBlbmFibGVkOiBlbmFibGVkXyA9IHRydWUsXG4gIGZ1bmN0aW9uTmFtZSxcbiAgaXNEYXRhRXF1YWwsXG4gIGtlZXBQcmV2aW91c0RhdGEsXG4gIG9uRXJyb3IsXG4gIG9uU2V0dGxlZCxcbiAgb25TdWNjZXNzLFxuICBzY29wZUtleSxcbiAgc2VsZWN0LFxuICBzdGFsZVRpbWUsXG4gIHN0cnVjdHVyYWxTaGFyaW5nID0gKG9sZERhdGEsIG5ld0RhdGEpID0+IGRlZXBFcXVhbDMob2xkRGF0YSwgbmV3RGF0YSkgPyBvbGREYXRhIDogcmVwbGFjZUVxdWFsRGVlcDIob2xkRGF0YSwgbmV3RGF0YSksXG4gIHN1c3BlbnNlLFxuICB3YXRjaFxufSA9IHt9KSB7XG4gIGNvbnN0IGNoYWluSWQgPSB1c2VDaGFpbklkKHsgY2hhaW5JZDogY2hhaW5JZF8gfSk7XG4gIGNvbnN0IHsgZGF0YTogYmxvY2tOdW1iZXJfIH0gPSB1c2VCbG9ja051bWJlcih7XG4gICAgY2hhaW5JZCxcbiAgICBlbmFibGVkOiB3YXRjaCB8fCBjYWNoZU9uQmxvY2ssXG4gICAgc2NvcGVLZXk6IHdhdGNoIHx8IGNhY2hlT25CbG9jayA/IHZvaWQgMCA6IFwiaWRsZVwiLFxuICAgIHdhdGNoXG4gIH0pO1xuICBjb25zdCBibG9ja051bWJlciA9IGJsb2NrTnVtYmVyT3ZlcnJpZGUgPz8gYmxvY2tOdW1iZXJfO1xuICBjb25zdCBxdWVyeUtleV8gPSBSZWFjdDE3LnVzZU1lbW8oXG4gICAgKCkgPT4gcXVlcnlLZXk2KHtcbiAgICAgIGFjY291bnQsXG4gICAgICBhZGRyZXNzLFxuICAgICAgYXJncyxcbiAgICAgIGJsb2NrTnVtYmVyOiBjYWNoZU9uQmxvY2sgPyBibG9ja051bWJlciA6IHZvaWQgMCxcbiAgICAgIGJsb2NrVGFnLFxuICAgICAgY2hhaW5JZCxcbiAgICAgIGZ1bmN0aW9uTmFtZSxcbiAgICAgIHNjb3BlS2V5XG4gICAgfSksXG4gICAgW1xuICAgICAgYWNjb3VudCxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBhcmdzLFxuICAgICAgYmxvY2tOdW1iZXIsXG4gICAgICBibG9ja1RhZyxcbiAgICAgIGNhY2hlT25CbG9jayxcbiAgICAgIGNoYWluSWQsXG4gICAgICBmdW5jdGlvbk5hbWUsXG4gICAgICBzY29wZUtleVxuICAgIF1cbiAgKTtcbiAgY29uc3QgZW5hYmxlZCA9IFJlYWN0MTcudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGVuYWJsZWQyID0gQm9vbGVhbihlbmFibGVkXyAmJiBhYmkgJiYgYWRkcmVzcyAmJiBmdW5jdGlvbk5hbWUpO1xuICAgIGlmIChjYWNoZU9uQmxvY2spXG4gICAgICBlbmFibGVkMiA9IEJvb2xlYW4oZW5hYmxlZDIgJiYgYmxvY2tOdW1iZXIpO1xuICAgIHJldHVybiBlbmFibGVkMjtcbiAgfSwgW2FiaSwgYWRkcmVzcywgYmxvY2tOdW1iZXIsIGNhY2hlT25CbG9jaywgZW5hYmxlZF8sIGZ1bmN0aW9uTmFtZV0pO1xuICB1c2VJbnZhbGlkYXRlT25CbG9jayh7XG4gICAgY2hhaW5JZCxcbiAgICBlbmFibGVkOiBCb29sZWFuKGVuYWJsZWQgJiYgd2F0Y2ggJiYgIWNhY2hlT25CbG9jayksXG4gICAgcXVlcnlLZXk6IHF1ZXJ5S2V5X1xuICB9KTtcbiAgcmV0dXJuIHVzZVF1ZXJ5KFxuICAgIHF1ZXJ5S2V5XyxcbiAgICBxdWVyeUZuNih7XG4gICAgICBhYmlcbiAgICB9KSxcbiAgICB7XG4gICAgICBjYWNoZVRpbWUsXG4gICAgICBlbmFibGVkLFxuICAgICAgaXNEYXRhRXF1YWwsXG4gICAgICBrZWVwUHJldmlvdXNEYXRhLFxuICAgICAgc2VsZWN0LFxuICAgICAgc3RhbGVUaW1lLFxuICAgICAgc3RydWN0dXJhbFNoYXJpbmcsXG4gICAgICBzdXNwZW5zZSxcbiAgICAgIG9uRXJyb3IsXG4gICAgICBvblNldHRsZWQsXG4gICAgICBvblN1Y2Nlc3NcbiAgICB9XG4gICk7XG59XG5cbi8vIHNyYy9ob29rcy9jb250cmFjdHMvdXNlQ29udHJhY3RSZWFkcy50c1xuaW1wb3J0IHsgcmVwbGFjZUVxdWFsRGVlcCBhcyByZXBsYWNlRXF1YWxEZWVwMyB9IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtcXVlcnlcIjtcbmltcG9ydCB7IGRlZXBFcXVhbCBhcyBkZWVwRXF1YWw0LCByZWFkQ29udHJhY3RzIGFzIHJlYWRDb250cmFjdHMyIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDE4IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gcXVlcnlLZXk3KHtcbiAgYWxsb3dGYWlsdXJlLFxuICBibG9ja051bWJlcixcbiAgYmxvY2tUYWcsXG4gIGNoYWluSWQsXG4gIGNvbnRyYWN0cyxcbiAgc2NvcGVLZXlcbn0pIHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBlbnRpdHk6IFwicmVhZENvbnRyYWN0c1wiLFxuICAgICAgYWxsb3dGYWlsdXJlLFxuICAgICAgYmxvY2tOdW1iZXIsXG4gICAgICBibG9ja1RhZyxcbiAgICAgIGNoYWluSWQsXG4gICAgICBzY29wZUtleSxcbiAgICAgIGNvbnRyYWN0czogKGNvbnRyYWN0cyA/PyBbXSkubWFwKCh7IGFkZHJlc3MsIGFyZ3MsIGNoYWluSWQ6IGNoYWluSWQyLCBmdW5jdGlvbk5hbWUgfSkgPT4gKHtcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgYXJncyxcbiAgICAgICAgY2hhaW5JZDogY2hhaW5JZDIsXG4gICAgICAgIGZ1bmN0aW9uTmFtZVxuICAgICAgfSkpXG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gcXVlcnlGbjcoeyBhYmlzIH0pIHtcbiAgcmV0dXJuICh7XG4gICAgcXVlcnlLZXk6IFt7IGFsbG93RmFpbHVyZSwgYmxvY2tOdW1iZXIsIGJsb2NrVGFnLCBjb250cmFjdHM6IGNvbnRyYWN0c18gfV1cbiAgfSkgPT4ge1xuICAgIGNvbnN0IGNvbnRyYWN0cyA9IGNvbnRyYWN0c18ubWFwKChjb250cmFjdCwgaSkgPT4gKHtcbiAgICAgIC4uLmNvbnRyYWN0LFxuICAgICAgYWJpOiBhYmlzW2ldXG4gICAgfSkpO1xuICAgIHJldHVybiByZWFkQ29udHJhY3RzMih7XG4gICAgICBhbGxvd0ZhaWx1cmUsXG4gICAgICBjb250cmFjdHMsXG4gICAgICBibG9ja051bWJlcixcbiAgICAgIGJsb2NrVGFnXG4gICAgfSk7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VDb250cmFjdFJlYWRzKHtcbiAgYWxsb3dGYWlsdXJlOiBhbGxvd0ZhaWx1cmVfLFxuICBibG9ja051bWJlcjogYmxvY2tOdW1iZXJPdmVycmlkZSxcbiAgYmxvY2tUYWcsXG4gIGNhY2hlT25CbG9jayA9IGZhbHNlLFxuICBjYWNoZVRpbWUsXG4gIGNvbnRyYWN0cyxcbiAgZW5hYmxlZDogZW5hYmxlZF8gPSB0cnVlLFxuICBpc0RhdGFFcXVhbCxcbiAga2VlcFByZXZpb3VzRGF0YSxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3MsXG4gIHNjb3BlS2V5LFxuICBzZWxlY3QsXG4gIHN0YWxlVGltZSxcbiAgc3RydWN0dXJhbFNoYXJpbmcgPSAob2xkRGF0YSwgbmV3RGF0YSkgPT4gZGVlcEVxdWFsNChvbGREYXRhLCBuZXdEYXRhKSA/IG9sZERhdGEgOiByZXBsYWNlRXF1YWxEZWVwMyhvbGREYXRhLCBuZXdEYXRhKSxcbiAgc3VzcGVuc2UsXG4gIHdhdGNoXG59ID0ge30pIHtcbiAgY29uc3QgYWxsb3dGYWlsdXJlID0gYWxsb3dGYWlsdXJlXyA/PyB0cnVlO1xuICBjb25zdCB7IGRhdGE6IGJsb2NrTnVtYmVyXyB9ID0gdXNlQmxvY2tOdW1iZXIoe1xuICAgIGVuYWJsZWQ6IHdhdGNoIHx8IGNhY2hlT25CbG9jayxcbiAgICB3YXRjaFxuICB9KTtcbiAgY29uc3QgY2hhaW5JZCA9IHVzZUNoYWluSWQoKTtcbiAgY29uc3QgYmxvY2tOdW1iZXIgPSBibG9ja051bWJlck92ZXJyaWRlID8/IGJsb2NrTnVtYmVyXztcbiAgY29uc3QgcXVlcnlLZXlfID0gUmVhY3QxOC51c2VNZW1vKFxuICAgICgpID0+IHF1ZXJ5S2V5Nyh7XG4gICAgICBhbGxvd0ZhaWx1cmUsXG4gICAgICBibG9ja051bWJlcjogY2FjaGVPbkJsb2NrID8gYmxvY2tOdW1iZXIgOiB2b2lkIDAsXG4gICAgICBibG9ja1RhZyxcbiAgICAgIGNoYWluSWQsXG4gICAgICBjb250cmFjdHMsXG4gICAgICBzY29wZUtleVxuICAgIH0pLFxuICAgIFtcbiAgICAgIGFsbG93RmFpbHVyZSxcbiAgICAgIGJsb2NrTnVtYmVyLFxuICAgICAgYmxvY2tUYWcsXG4gICAgICBjYWNoZU9uQmxvY2ssXG4gICAgICBjaGFpbklkLFxuICAgICAgc2NvcGVLZXksXG4gICAgICBjb250cmFjdHNcbiAgICBdXG4gICk7XG4gIGNvbnN0IGVuYWJsZWQgPSBSZWFjdDE4LnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBlbmFibGVkMiA9IEJvb2xlYW4oXG4gICAgICBlbmFibGVkXyAmJiBjb250cmFjdHM/LmV2ZXJ5KFxuICAgICAgICAoeCkgPT4geC5hYmkgJiYgeC5hZGRyZXNzICYmIHguZnVuY3Rpb25OYW1lXG4gICAgICApXG4gICAgKTtcbiAgICBpZiAoY2FjaGVPbkJsb2NrKVxuICAgICAgZW5hYmxlZDIgPSBCb29sZWFuKGVuYWJsZWQyICYmIGJsb2NrTnVtYmVyKTtcbiAgICByZXR1cm4gZW5hYmxlZDI7XG4gIH0sIFtibG9ja051bWJlciwgY2FjaGVPbkJsb2NrLCBjb250cmFjdHMsIGVuYWJsZWRfXSk7XG4gIHVzZUludmFsaWRhdGVPbkJsb2NrKHtcbiAgICBlbmFibGVkOiBCb29sZWFuKGVuYWJsZWQgJiYgd2F0Y2ggJiYgIWNhY2hlT25CbG9jayksXG4gICAgcXVlcnlLZXk6IHF1ZXJ5S2V5X1xuICB9KTtcbiAgY29uc3QgYWJpcyA9IChjb250cmFjdHMgPz8gW10pLm1hcChcbiAgICAoeyBhYmkgfSkgPT4gYWJpXG4gICk7XG4gIHJldHVybiB1c2VRdWVyeShxdWVyeUtleV8sIHF1ZXJ5Rm43KHsgYWJpcyB9KSwge1xuICAgIGNhY2hlVGltZSxcbiAgICBlbmFibGVkLFxuICAgIGlzRGF0YUVxdWFsLFxuICAgIGtlZXBQcmV2aW91c0RhdGEsXG4gICAgc3RhbGVUaW1lLFxuICAgIHNlbGVjdCxcbiAgICBzdHJ1Y3R1cmFsU2hhcmluZyxcbiAgICBzdXNwZW5zZSxcbiAgICBvbkVycm9yLFxuICAgIG9uU2V0dGxlZCxcbiAgICBvblN1Y2Nlc3NcbiAgfSk7XG59XG5cbi8vIHNyYy9ob29rcy9jb250cmFjdHMvdXNlQ29udHJhY3RXcml0ZS50c1xuaW1wb3J0IHsgd3JpdGVDb250cmFjdCB9IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuaW1wb3J0IHsgZ2V0U2VuZFRyYW5zYWN0aW9uUGFyYW1ldGVycyB9IGZyb20gXCJAd2FnbWkvY29yZS9pbnRlcm5hbFwiO1xuaW1wb3J0ICogYXMgUmVhY3QxOSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIG11dGF0aW9uS2V5Nih7XG4gIGFkZHJlc3MsXG4gIGFiaSxcbiAgZnVuY3Rpb25OYW1lLFxuICAuLi5jb25maWdcbn0pIHtcbiAgY29uc3Qge1xuICAgIGFyZ3MsXG4gICAgYWNjZXNzTGlzdCxcbiAgICBhY2NvdW50LFxuICAgIGRhdGFTdWZmaXgsXG4gICAgZ2FzLFxuICAgIGdhc1ByaWNlLFxuICAgIG1heEZlZVBlckdhcyxcbiAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICBub25jZSxcbiAgICByZXF1ZXN0LFxuICAgIHZhbHVlXG4gIH0gPSBjb25maWc7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgZW50aXR5OiBcIndyaXRlQ29udHJhY3RcIixcbiAgICAgIGFkZHJlc3MsXG4gICAgICBhcmdzLFxuICAgICAgYWJpLFxuICAgICAgYWNjZXNzTGlzdCxcbiAgICAgIGFjY291bnQsXG4gICAgICBkYXRhU3VmZml4LFxuICAgICAgZnVuY3Rpb25OYW1lLFxuICAgICAgZ2FzLFxuICAgICAgZ2FzUHJpY2UsXG4gICAgICBtYXhGZWVQZXJHYXMsXG4gICAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgIG5vbmNlLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIHZhbHVlXG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gbXV0YXRpb25GbjYoY29uZmlnKSB7XG4gIGlmIChjb25maWcubW9kZSA9PT0gXCJwcmVwYXJlZFwiKSB7XG4gICAgaWYgKCFjb25maWcucmVxdWVzdClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInJlcXVlc3QgaXMgcmVxdWlyZWRcIik7XG4gICAgcmV0dXJuIHdyaXRlQ29udHJhY3Qoe1xuICAgICAgbW9kZTogXCJwcmVwYXJlZFwiLFxuICAgICAgcmVxdWVzdDogY29uZmlnLnJlcXVlc3RcbiAgICB9KTtcbiAgfVxuICBpZiAoIWNvbmZpZy5hZGRyZXNzKVxuICAgIHRocm93IG5ldyBFcnJvcihcImFkZHJlc3MgaXMgcmVxdWlyZWRcIik7XG4gIGlmICghY29uZmlnLmFiaSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJhYmkgaXMgcmVxdWlyZWRcIik7XG4gIGlmICghY29uZmlnLmZ1bmN0aW9uTmFtZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmdW5jdGlvbk5hbWUgaXMgcmVxdWlyZWRcIik7XG4gIHJldHVybiB3cml0ZUNvbnRyYWN0KHtcbiAgICBhZGRyZXNzOiBjb25maWcuYWRkcmVzcyxcbiAgICBhcmdzOiBjb25maWcuYXJncyxcbiAgICBjaGFpbklkOiBjb25maWcuY2hhaW5JZCxcbiAgICBhYmk6IGNvbmZpZy5hYmksXG4gICAgZnVuY3Rpb25OYW1lOiBjb25maWcuZnVuY3Rpb25OYW1lLFxuICAgIGFjY2Vzc0xpc3Q6IGNvbmZpZy5hY2Nlc3NMaXN0LFxuICAgIGFjY291bnQ6IGNvbmZpZy5hY2NvdW50LFxuICAgIGRhdGFTdWZmaXg6IGNvbmZpZy5kYXRhU3VmZml4LFxuICAgIGdhczogY29uZmlnLmdhcyxcbiAgICBnYXNQcmljZTogY29uZmlnLmdhc1ByaWNlLFxuICAgIG1heEZlZVBlckdhczogY29uZmlnLm1heEZlZVBlckdhcyxcbiAgICBtYXhQcmlvcml0eUZlZVBlckdhczogY29uZmlnLm1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgIG5vbmNlOiBjb25maWcubm9uY2UsXG4gICAgdmFsdWU6IGNvbmZpZy52YWx1ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZUNvbnRyYWN0V3JpdGUoY29uZmlnKSB7XG4gIGNvbnN0IHtcbiAgICBhZGRyZXNzLFxuICAgIGFiaSxcbiAgICBhcmdzLFxuICAgIGNoYWluSWQsXG4gICAgZnVuY3Rpb25OYW1lLFxuICAgIG1vZGUsXG4gICAgcmVxdWVzdCxcbiAgICBkYXRhU3VmZml4XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHtcbiAgICBhY2Nlc3NMaXN0LFxuICAgIGFjY291bnQsXG4gICAgZ2FzLFxuICAgIGdhc1ByaWNlLFxuICAgIG1heEZlZVBlckdhcyxcbiAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICBub25jZSxcbiAgICB2YWx1ZVxuICB9ID0gZ2V0U2VuZFRyYW5zYWN0aW9uUGFyYW1ldGVycyhjb25maWcpO1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIG11dGF0ZSxcbiAgICBtdXRhdGVBc3luYyxcbiAgICByZXNldCxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH0gPSB1c2VNdXRhdGlvbihcbiAgICBtdXRhdGlvbktleTYoe1xuICAgICAgYWRkcmVzcyxcbiAgICAgIGFiaSxcbiAgICAgIGZ1bmN0aW9uTmFtZSxcbiAgICAgIGNoYWluSWQsXG4gICAgICBtb2RlLFxuICAgICAgYXJncyxcbiAgICAgIGFjY2Vzc0xpc3QsXG4gICAgICBhY2NvdW50LFxuICAgICAgZGF0YVN1ZmZpeCxcbiAgICAgIGdhcyxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICBub25jZSxcbiAgICAgIHJlcXVlc3QsXG4gICAgICB2YWx1ZVxuICAgIH0pLFxuICAgIG11dGF0aW9uRm42LFxuICAgIHtcbiAgICAgIG9uRXJyb3I6IGNvbmZpZy5vbkVycm9yLFxuICAgICAgb25NdXRhdGU6IGNvbmZpZy5vbk11dGF0ZSxcbiAgICAgIG9uU2V0dGxlZDogY29uZmlnLm9uU2V0dGxlZCxcbiAgICAgIG9uU3VjY2VzczogY29uZmlnLm9uU3VjY2Vzc1xuICAgIH1cbiAgKTtcbiAgY29uc3Qgd3JpdGUgPSBSZWFjdDE5LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChjb25maWcubW9kZSA9PT0gXCJwcmVwYXJlZFwiKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpXG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICByZXR1cm4gKCkgPT4gbXV0YXRlKHtcbiAgICAgICAgbW9kZTogXCJwcmVwYXJlZFwiLFxuICAgICAgICByZXF1ZXN0OiBjb25maWcucmVxdWVzdCxcbiAgICAgICAgY2hhaW5JZDogY29uZmlnLmNoYWluSWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKG92ZXJyaWRlQ29uZmlnKSA9PiBtdXRhdGUoe1xuICAgICAgYWRkcmVzcyxcbiAgICAgIGFyZ3MsXG4gICAgICBhYmksXG4gICAgICBmdW5jdGlvbk5hbWUsXG4gICAgICBjaGFpbklkLFxuICAgICAgYWNjZXNzTGlzdCxcbiAgICAgIGFjY291bnQsXG4gICAgICBkYXRhU3VmZml4LFxuICAgICAgZ2FzLFxuICAgICAgZ2FzUHJpY2UsXG4gICAgICBtYXhGZWVQZXJHYXMsXG4gICAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgIG5vbmNlLFxuICAgICAgdmFsdWUsXG4gICAgICAuLi5vdmVycmlkZUNvbmZpZ1xuICAgIH0pO1xuICB9LCBbXG4gICAgYWNjZXNzTGlzdCxcbiAgICBhY2NvdW50LFxuICAgIGFiaSxcbiAgICBhZGRyZXNzLFxuICAgIGFyZ3MsXG4gICAgY2hhaW5JZCxcbiAgICBjb25maWcuY2hhaW5JZCxcbiAgICBjb25maWcubW9kZSxcbiAgICBjb25maWcucmVxdWVzdCxcbiAgICBkYXRhU3VmZml4LFxuICAgIGZ1bmN0aW9uTmFtZSxcbiAgICBnYXMsXG4gICAgZ2FzUHJpY2UsXG4gICAgbWF4RmVlUGVyR2FzLFxuICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgIG11dGF0ZSxcbiAgICBub25jZSxcbiAgICByZXF1ZXN0LFxuICAgIHZhbHVlXG4gIF0pO1xuICBjb25zdCB3cml0ZUFzeW5jID0gUmVhY3QxOS51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoY29uZmlnLm1vZGUgPT09IFwicHJlcGFyZWRcIikge1xuICAgICAgaWYgKCFyZXF1ZXN0KVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgcmV0dXJuICgpID0+IG11dGF0ZUFzeW5jKHtcbiAgICAgICAgbW9kZTogXCJwcmVwYXJlZFwiLFxuICAgICAgICByZXF1ZXN0OiBjb25maWcucmVxdWVzdFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAob3ZlcnJpZGVDb25maWcpID0+IG11dGF0ZUFzeW5jKHtcbiAgICAgIGFkZHJlc3MsXG4gICAgICBhcmdzLFxuICAgICAgYWJpLFxuICAgICAgY2hhaW5JZCxcbiAgICAgIGZ1bmN0aW9uTmFtZSxcbiAgICAgIGFjY2Vzc0xpc3QsXG4gICAgICBhY2NvdW50LFxuICAgICAgZGF0YVN1ZmZpeCxcbiAgICAgIGdhcyxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICBub25jZSxcbiAgICAgIHZhbHVlLFxuICAgICAgLi4ub3ZlcnJpZGVDb25maWdcbiAgICB9KTtcbiAgfSwgW1xuICAgIGFjY2Vzc0xpc3QsXG4gICAgYWNjb3VudCxcbiAgICBhYmksXG4gICAgYWRkcmVzcyxcbiAgICBhcmdzLFxuICAgIGNoYWluSWQsXG4gICAgY29uZmlnLm1vZGUsXG4gICAgY29uZmlnLnJlcXVlc3QsXG4gICAgZGF0YVN1ZmZpeCxcbiAgICBmdW5jdGlvbk5hbWUsXG4gICAgZ2FzLFxuICAgIGdhc1ByaWNlLFxuICAgIG1heEZlZVBlckdhcyxcbiAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICBtdXRhdGVBc3luYyxcbiAgICBub25jZSxcbiAgICByZXF1ZXN0LFxuICAgIHZhbHVlXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgZXJyb3IsXG4gICAgaXNFcnJvcixcbiAgICBpc0lkbGUsXG4gICAgaXNMb2FkaW5nLFxuICAgIGlzU3VjY2VzcyxcbiAgICByZXNldCxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzLFxuICAgIHdyaXRlLFxuICAgIHdyaXRlQXN5bmNcbiAgfTtcbn1cblxuLy8gc3JjL2hvb2tzL2NvbnRyYWN0cy91c2VQcmVwYXJlQ29udHJhY3RXcml0ZS50c1xuaW1wb3J0IHsgcHJlcGFyZVdyaXRlQ29udHJhY3QgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmltcG9ydCB7IGdldENhbGxQYXJhbWV0ZXJzIH0gZnJvbSBcIkB3YWdtaS9jb3JlL2ludGVybmFsXCI7XG5mdW5jdGlvbiBxdWVyeUtleTgoe1xuICBhY2Nlc3NMaXN0LFxuICBhY2NvdW50LFxuICBhY3RpdmVDaGFpbklkLFxuICBhcmdzLFxuICBhZGRyZXNzLFxuICBibG9ja051bWJlcixcbiAgYmxvY2tUYWcsXG4gIGNoYWluSWQsXG4gIGRhdGFTdWZmaXgsXG4gIGZ1bmN0aW9uTmFtZSxcbiAgZ2FzLFxuICBnYXNQcmljZSxcbiAgbWF4RmVlUGVyR2FzLFxuICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgbm9uY2UsXG4gIHNjb3BlS2V5LFxuICB3YWxsZXRDbGllbnRBZGRyZXNzLFxuICB2YWx1ZVxufSkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGVudGl0eTogXCJwcmVwYXJlQ29udHJhY3RUcmFuc2FjdGlvblwiLFxuICAgICAgYWNjZXNzTGlzdCxcbiAgICAgIGFjY291bnQsXG4gICAgICBhY3RpdmVDaGFpbklkLFxuICAgICAgYWRkcmVzcyxcbiAgICAgIGFyZ3MsXG4gICAgICBibG9ja051bWJlcixcbiAgICAgIGJsb2NrVGFnLFxuICAgICAgY2hhaW5JZCxcbiAgICAgIGRhdGFTdWZmaXgsXG4gICAgICBmdW5jdGlvbk5hbWUsXG4gICAgICBnYXMsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgbm9uY2UsXG4gICAgICBzY29wZUtleSxcbiAgICAgIHdhbGxldENsaWVudEFkZHJlc3MsXG4gICAgICB2YWx1ZVxuICAgIH1cbiAgXTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5Rm44KHtcbiAgYWJpLFxuICB3YWxsZXRDbGllbnRcbn0pIHtcbiAgcmV0dXJuICh7XG4gICAgcXVlcnlLZXk6IFtcbiAgICAgIHtcbiAgICAgICAgYWNjZXNzTGlzdCxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgYXJncyxcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgYmxvY2tOdW1iZXIsXG4gICAgICAgIGJsb2NrVGFnLFxuICAgICAgICBjaGFpbklkLFxuICAgICAgICBkYXRhU3VmZml4LFxuICAgICAgICBmdW5jdGlvbk5hbWUsXG4gICAgICAgIGdhcyxcbiAgICAgICAgZ2FzUHJpY2UsXG4gICAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgIG5vbmNlLFxuICAgICAgICB2YWx1ZVxuICAgICAgfVxuICAgIF1cbiAgfSkgPT4ge1xuICAgIGlmICghYWJpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYWJpIGlzIHJlcXVpcmVkXCIpO1xuICAgIGlmICghYWRkcmVzcylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFkZHJlc3MgaXMgcmVxdWlyZWRcIik7XG4gICAgaWYgKCFmdW5jdGlvbk5hbWUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmdW5jdGlvbk5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgcmV0dXJuIHByZXBhcmVXcml0ZUNvbnRyYWN0KHtcbiAgICAgIGFiaSxcbiAgICAgIGFjY2Vzc0xpc3QsXG4gICAgICBhY2NvdW50LFxuICAgICAgYXJncyxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBibG9ja051bWJlcixcbiAgICAgIGJsb2NrVGFnLFxuICAgICAgY2hhaW5JZCxcbiAgICAgIGRhdGFTdWZmaXgsXG4gICAgICBmdW5jdGlvbk5hbWUsXG4gICAgICBnYXMsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgbm9uY2UsXG4gICAgICB3YWxsZXRDbGllbnQsXG4gICAgICB2YWx1ZVxuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gdXNlUHJlcGFyZUNvbnRyYWN0V3JpdGUoe1xuICBhZGRyZXNzLFxuICBhYmksXG4gIGZ1bmN0aW9uTmFtZSxcbiAgY2hhaW5JZCxcbiAgYXJncyxcbiAgY2FjaGVUaW1lLFxuICBkYXRhU3VmZml4LFxuICBlbmFibGVkID0gdHJ1ZSxcbiAgc2NvcGVLZXksXG4gIHN0YWxlVGltZSxcbiAgc3VzcGVuc2UsXG4gIG9uRXJyb3IsXG4gIG9uU2V0dGxlZCxcbiAgb25TdWNjZXNzLFxuICAuLi5jb25maWdcbn0gPSB7fSkge1xuICBjb25zdCB7IGNoYWluOiBhY3RpdmVDaGFpbiB9ID0gdXNlTmV0d29yaygpO1xuICBjb25zdCB7IGRhdGE6IHdhbGxldENsaWVudCB9ID0gdXNlV2FsbGV0Q2xpZW50KHsgY2hhaW5JZCB9KTtcbiAgY29uc3Qge1xuICAgIGFjY2Vzc0xpc3QsXG4gICAgYWNjb3VudCxcbiAgICBibG9ja051bWJlcixcbiAgICBibG9ja1RhZyxcbiAgICBnYXMsXG4gICAgZ2FzUHJpY2UsXG4gICAgbWF4RmVlUGVyR2FzLFxuICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgIG5vbmNlLFxuICAgIHZhbHVlXG4gIH0gPSBnZXRDYWxsUGFyYW1ldGVycyhjb25maWcpO1xuICBjb25zdCBwcmVwYXJlQ29udHJhY3RXcml0ZVF1ZXJ5ID0gdXNlUXVlcnkoXG4gICAgcXVlcnlLZXk4KHtcbiAgICAgIGFjY2Vzc0xpc3QsXG4gICAgICBhY2NvdW50LFxuICAgICAgYWN0aXZlQ2hhaW5JZDogYWN0aXZlQ2hhaW4/LmlkLFxuICAgICAgYWRkcmVzcyxcbiAgICAgIGFyZ3MsXG4gICAgICBibG9ja051bWJlcixcbiAgICAgIGJsb2NrVGFnLFxuICAgICAgY2hhaW5JZCxcbiAgICAgIGRhdGFTdWZmaXgsXG4gICAgICBmdW5jdGlvbk5hbWUsXG4gICAgICBnYXMsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgbm9uY2UsXG4gICAgICBzY29wZUtleSxcbiAgICAgIHdhbGxldENsaWVudEFkZHJlc3M6IHdhbGxldENsaWVudD8uYWNjb3VudC5hZGRyZXNzLFxuICAgICAgdmFsdWVcbiAgICB9KSxcbiAgICBxdWVyeUZuOCh7XG4gICAgICBhYmksXG4gICAgICB3YWxsZXRDbGllbnRcbiAgICB9KSxcbiAgICB7XG4gICAgICBjYWNoZVRpbWUsXG4gICAgICBlbmFibGVkOiBCb29sZWFuKFxuICAgICAgICBlbmFibGVkICYmIGFiaSAmJiBhZGRyZXNzICYmIGZ1bmN0aW9uTmFtZSAmJiB3YWxsZXRDbGllbnRcbiAgICAgICksXG4gICAgICBzdGFsZVRpbWUsXG4gICAgICBzdXNwZW5zZSxcbiAgICAgIG9uRXJyb3IsXG4gICAgICBvblNldHRsZWQsXG4gICAgICBvblN1Y2Nlc3NcbiAgICB9XG4gICk7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHByZXBhcmVDb250cmFjdFdyaXRlUXVlcnksIHtcbiAgICBjb25maWc6IHtcbiAgICAgIGNoYWluSWQsXG4gICAgICBtb2RlOiBcInByZXBhcmVkXCIsXG4gICAgICByZXF1ZXN0OiB2b2lkIDAsXG4gICAgICAuLi5wcmVwYXJlQ29udHJhY3RXcml0ZVF1ZXJ5LmRhdGFcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvaG9va3MvY29udHJhY3RzL3VzZVRva2VuLnRzXG5pbXBvcnQgeyBmZXRjaFRva2VuIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5mdW5jdGlvbiBxdWVyeUtleTkoe1xuICBhZGRyZXNzLFxuICBjaGFpbklkLFxuICBmb3JtYXRVbml0cyxcbiAgc2NvcGVLZXlcbn0pIHtcbiAgcmV0dXJuIFt7IGVudGl0eTogXCJ0b2tlblwiLCBhZGRyZXNzLCBjaGFpbklkLCBmb3JtYXRVbml0cywgc2NvcGVLZXkgfV07XG59XG5mdW5jdGlvbiBxdWVyeUZuOSh7XG4gIHF1ZXJ5S2V5OiBbeyBhZGRyZXNzLCBjaGFpbklkLCBmb3JtYXRVbml0cyB9XVxufSkge1xuICBpZiAoIWFkZHJlc3MpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYWRkcmVzcyBpcyByZXF1aXJlZFwiKTtcbiAgcmV0dXJuIGZldGNoVG9rZW4oeyBhZGRyZXNzLCBjaGFpbklkLCBmb3JtYXRVbml0cyB9KTtcbn1cbmZ1bmN0aW9uIHVzZVRva2VuKHtcbiAgYWRkcmVzcyxcbiAgY2hhaW5JZDogY2hhaW5JZF8sXG4gIGZvcm1hdFVuaXRzID0gXCJldGhlclwiLFxuICBjYWNoZVRpbWUsXG4gIGVuYWJsZWQgPSB0cnVlLFxuICBzY29wZUtleSxcbiAgc3RhbGVUaW1lID0gMWUzICogNjAgKiA2MCAqIDI0LFxuICBzdXNwZW5zZSxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCh7IGNoYWluSWQ6IGNoYWluSWRfIH0pO1xuICByZXR1cm4gdXNlUXVlcnkoXG4gICAgcXVlcnlLZXk5KHsgYWRkcmVzcywgY2hhaW5JZCwgZm9ybWF0VW5pdHMsIHNjb3BlS2V5IH0pLFxuICAgIHF1ZXJ5Rm45LFxuICAgIHtcbiAgICAgIGNhY2hlVGltZSxcbiAgICAgIGVuYWJsZWQ6IEJvb2xlYW4oZW5hYmxlZCAmJiBhZGRyZXNzKSxcbiAgICAgIHN0YWxlVGltZSxcbiAgICAgIHN1c3BlbnNlLFxuICAgICAgb25FcnJvcixcbiAgICAgIG9uU2V0dGxlZCxcbiAgICAgIG9uU3VjY2Vzc1xuICAgIH1cbiAgKTtcbn1cblxuLy8gc3JjL2hvb2tzL2Vucy91c2VFbnNBZGRyZXNzLnRzXG5pbXBvcnQgeyBmZXRjaEVuc0FkZHJlc3MgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmZ1bmN0aW9uIHF1ZXJ5S2V5MTAoeyBjaGFpbklkLCBuYW1lLCBzY29wZUtleSB9KSB7XG4gIHJldHVybiBbeyBlbnRpdHk6IFwiZW5zQWRkcmVzc1wiLCBjaGFpbklkLCBuYW1lLCBzY29wZUtleSB9XTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5Rm4xMCh7XG4gIHF1ZXJ5S2V5OiBbeyBjaGFpbklkLCBuYW1lIH1dXG59KSB7XG4gIGlmICghbmFtZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJuYW1lIGlzIHJlcXVpcmVkXCIpO1xuICByZXR1cm4gZmV0Y2hFbnNBZGRyZXNzKHsgY2hhaW5JZCwgbmFtZSB9KTtcbn1cbmZ1bmN0aW9uIHVzZUVuc0FkZHJlc3Moe1xuICBjYWNoZVRpbWUsXG4gIGNoYWluSWQ6IGNoYWluSWRfLFxuICBlbmFibGVkID0gdHJ1ZSxcbiAgbmFtZSxcbiAgc2NvcGVLZXksXG4gIHN0YWxlVGltZSA9IDFlMyAqIDYwICogNjAgKiAyNCxcbiAgc3VzcGVuc2UsXG4gIG9uRXJyb3IsXG4gIG9uU2V0dGxlZCxcbiAgb25TdWNjZXNzXG59ID0ge30pIHtcbiAgY29uc3QgY2hhaW5JZCA9IHVzZUNoYWluSWQoeyBjaGFpbklkOiBjaGFpbklkXyB9KTtcbiAgcmV0dXJuIHVzZVF1ZXJ5KHF1ZXJ5S2V5MTAoeyBjaGFpbklkLCBuYW1lLCBzY29wZUtleSB9KSwgcXVlcnlGbjEwLCB7XG4gICAgY2FjaGVUaW1lLFxuICAgIGVuYWJsZWQ6IEJvb2xlYW4oZW5hYmxlZCAmJiBjaGFpbklkICYmIG5hbWUpLFxuICAgIHN0YWxlVGltZSxcbiAgICBzdXNwZW5zZSxcbiAgICBvbkVycm9yLFxuICAgIG9uU2V0dGxlZCxcbiAgICBvblN1Y2Nlc3NcbiAgfSk7XG59XG5cbi8vIHNyYy9ob29rcy9lbnMvdXNlRW5zQXZhdGFyLnRzXG5pbXBvcnQgeyBmZXRjaEVuc0F2YXRhciB9IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuZnVuY3Rpb24gcXVlcnlLZXkxMSh7IG5hbWUsIGNoYWluSWQsIHNjb3BlS2V5IH0pIHtcbiAgcmV0dXJuIFt7IGVudGl0eTogXCJlbnNBdmF0YXJcIiwgbmFtZSwgY2hhaW5JZCwgc2NvcGVLZXkgfV07XG59XG5mdW5jdGlvbiBxdWVyeUZuMTEoe1xuICBxdWVyeUtleTogW3sgbmFtZSwgY2hhaW5JZCB9XVxufSkge1xuICBpZiAoIW5hbWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgcmV0dXJuIGZldGNoRW5zQXZhdGFyKHsgbmFtZSwgY2hhaW5JZCB9KTtcbn1cbmZ1bmN0aW9uIHVzZUVuc0F2YXRhcih7XG4gIGNhY2hlVGltZSxcbiAgY2hhaW5JZDogY2hhaW5JZF8sXG4gIGVuYWJsZWQgPSB0cnVlLFxuICBuYW1lLFxuICBzY29wZUtleSxcbiAgc3RhbGVUaW1lID0gMWUzICogNjAgKiA2MCAqIDI0LFxuICBzdXNwZW5zZSxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCh7IGNoYWluSWQ6IGNoYWluSWRfIH0pO1xuICByZXR1cm4gdXNlUXVlcnkocXVlcnlLZXkxMSh7IG5hbWUsIGNoYWluSWQsIHNjb3BlS2V5IH0pLCBxdWVyeUZuMTEsIHtcbiAgICBjYWNoZVRpbWUsXG4gICAgZW5hYmxlZDogQm9vbGVhbihlbmFibGVkICYmIG5hbWUgJiYgY2hhaW5JZCksXG4gICAgc3RhbGVUaW1lLFxuICAgIHN1c3BlbnNlLFxuICAgIG9uRXJyb3IsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbn1cblxuLy8gc3JjL2hvb2tzL2Vucy91c2VFbnNOYW1lLnRzXG5pbXBvcnQgeyBmZXRjaEVuc05hbWUgfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmZ1bmN0aW9uIHF1ZXJ5S2V5MTIoe1xuICBhZGRyZXNzLFxuICBjaGFpbklkLFxuICBzY29wZUtleVxufSkge1xuICByZXR1cm4gW3sgZW50aXR5OiBcImVuc05hbWVcIiwgYWRkcmVzcywgY2hhaW5JZCwgc2NvcGVLZXkgfV07XG59XG5mdW5jdGlvbiBxdWVyeUZuMTIoe1xuICBxdWVyeUtleTogW3sgYWRkcmVzcywgY2hhaW5JZCB9XVxufSkge1xuICBpZiAoIWFkZHJlc3MpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYWRkcmVzcyBpcyByZXF1aXJlZFwiKTtcbiAgcmV0dXJuIGZldGNoRW5zTmFtZSh7IGFkZHJlc3MsIGNoYWluSWQgfSk7XG59XG5mdW5jdGlvbiB1c2VFbnNOYW1lKHtcbiAgYWRkcmVzcyxcbiAgY2FjaGVUaW1lLFxuICBjaGFpbklkOiBjaGFpbklkXyxcbiAgZW5hYmxlZCA9IHRydWUsXG4gIHNjb3BlS2V5LFxuICBzdGFsZVRpbWUgPSAxZTMgKiA2MCAqIDYwICogMjQsXG4gIHN1c3BlbnNlLFxuICBvbkVycm9yLFxuICBvblNldHRsZWQsXG4gIG9uU3VjY2Vzc1xufSA9IHt9KSB7XG4gIGNvbnN0IGNoYWluSWQgPSB1c2VDaGFpbklkKHsgY2hhaW5JZDogY2hhaW5JZF8gfSk7XG4gIHJldHVybiB1c2VRdWVyeShxdWVyeUtleTEyKHsgYWRkcmVzcywgY2hhaW5JZCwgc2NvcGVLZXkgfSksIHF1ZXJ5Rm4xMiwge1xuICAgIGNhY2hlVGltZSxcbiAgICBlbmFibGVkOiBCb29sZWFuKGVuYWJsZWQgJiYgYWRkcmVzcyAmJiBjaGFpbklkKSxcbiAgICBzdGFsZVRpbWUsXG4gICAgc3VzcGVuc2UsXG4gICAgb25FcnJvcixcbiAgICBvblNldHRsZWQsXG4gICAgb25TdWNjZXNzXG4gIH0pO1xufVxuXG4vLyBzcmMvaG9va3MvZW5zL3VzZUVuc1Jlc29sdmVyLnRzXG5pbXBvcnQgeyBmZXRjaEVuc1Jlc29sdmVyIH0gZnJvbSBcIkB3YWdtaS9jb3JlXCI7XG5mdW5jdGlvbiBxdWVyeUtleTEzKHsgY2hhaW5JZCwgbmFtZSwgc2NvcGVLZXkgfSkge1xuICByZXR1cm4gW1xuICAgIHsgZW50aXR5OiBcImVuc1Jlc29sdmVyXCIsIGNoYWluSWQsIG5hbWUsIHNjb3BlS2V5LCBwZXJzaXN0OiBmYWxzZSB9XG4gIF07XG59XG5mdW5jdGlvbiBxdWVyeUZuMTMoe1xuICBxdWVyeUtleTogW3sgY2hhaW5JZCwgbmFtZSB9XVxufSkge1xuICBpZiAoIW5hbWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgcmV0dXJuIGZldGNoRW5zUmVzb2x2ZXIoeyBjaGFpbklkLCBuYW1lIH0pO1xufVxuZnVuY3Rpb24gdXNlRW5zUmVzb2x2ZXIoe1xuICBjaGFpbklkOiBjaGFpbklkXyxcbiAgbmFtZSxcbiAgZW5hYmxlZCA9IHRydWUsXG4gIHNjb3BlS2V5LFxuICBzdXNwZW5zZSxcbiAgb25FcnJvcixcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCh7IGNoYWluSWQ6IGNoYWluSWRfIH0pO1xuICByZXR1cm4gdXNlUXVlcnkocXVlcnlLZXkxMyh7IGNoYWluSWQsIG5hbWUsIHNjb3BlS2V5IH0pLCBxdWVyeUZuMTMsIHtcbiAgICBjYWNoZVRpbWU6IDAsXG4gICAgZW5hYmxlZDogQm9vbGVhbihlbmFibGVkICYmIGNoYWluSWQgJiYgbmFtZSksXG4gICAgc3VzcGVuc2UsXG4gICAgb25FcnJvcixcbiAgICBvblNldHRsZWQsXG4gICAgb25TdWNjZXNzXG4gIH0pO1xufVxuXG4vLyBzcmMvaG9va3MvdHJhbnNhY3Rpb25zL3VzZVByZXBhcmVTZW5kVHJhbnNhY3Rpb24udHNcbmltcG9ydCB7IHByZXBhcmVTZW5kVHJhbnNhY3Rpb24gfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmZ1bmN0aW9uIHF1ZXJ5S2V5MTQoe1xuICBhY2Nlc3NMaXN0LFxuICBhY2NvdW50LFxuICBhY3RpdmVDaGFpbklkLFxuICBjaGFpbklkLFxuICBkYXRhLFxuICBnYXMsXG4gIGdhc1ByaWNlLFxuICBtYXhGZWVQZXJHYXMsXG4gIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICBub25jZSxcbiAgdG8sXG4gIHZhbHVlLFxuICBzY29wZUtleSxcbiAgd2FsbGV0Q2xpZW50QWRkcmVzc1xufSkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGVudGl0eTogXCJwcmVwYXJlU2VuZFRyYW5zYWN0aW9uXCIsXG4gICAgICBhY3RpdmVDaGFpbklkLFxuICAgICAgYWNjZXNzTGlzdCxcbiAgICAgIGFjY291bnQsXG4gICAgICBjaGFpbklkLFxuICAgICAgZGF0YSxcbiAgICAgIGdhcyxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICBub25jZSxcbiAgICAgIHRvLFxuICAgICAgdmFsdWUsXG4gICAgICBzY29wZUtleSxcbiAgICAgIHdhbGxldENsaWVudEFkZHJlc3NcbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiBxdWVyeUZuMTQoeyB3YWxsZXRDbGllbnQgfSkge1xuICByZXR1cm4gKHtcbiAgICBxdWVyeUtleTogW1xuICAgICAge1xuICAgICAgICBhY2Nlc3NMaXN0LFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBjaGFpbklkLFxuICAgICAgICBkYXRhLFxuICAgICAgICBnYXMsXG4gICAgICAgIGdhc1ByaWNlLFxuICAgICAgICBtYXhGZWVQZXJHYXMsXG4gICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICBub25jZSxcbiAgICAgICAgdG8sXG4gICAgICAgIHZhbHVlXG4gICAgICB9XG4gICAgXVxuICB9KSA9PiB7XG4gICAgaWYgKCF0bylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInRvIGlzIHJlcXVpcmVkXCIpO1xuICAgIHJldHVybiBwcmVwYXJlU2VuZFRyYW5zYWN0aW9uKHtcbiAgICAgIGFjY2Vzc0xpc3QsXG4gICAgICBhY2NvdW50LFxuICAgICAgY2hhaW5JZCxcbiAgICAgIGRhdGEsXG4gICAgICBnYXMsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgbm9uY2UsXG4gICAgICB0byxcbiAgICAgIHZhbHVlLFxuICAgICAgd2FsbGV0Q2xpZW50XG4gICAgfSk7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VQcmVwYXJlU2VuZFRyYW5zYWN0aW9uKHtcbiAgYWNjZXNzTGlzdCxcbiAgYWNjb3VudCxcbiAgY2hhaW5JZCxcbiAgY2FjaGVUaW1lLFxuICBkYXRhLFxuICBlbmFibGVkID0gdHJ1ZSxcbiAgZ2FzLFxuICBnYXNQcmljZSxcbiAgbWF4RmVlUGVyR2FzLFxuICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgbm9uY2UsXG4gIHNjb3BlS2V5LFxuICBzdGFsZVRpbWUsXG4gIHN1c3BlbnNlLFxuICB0byxcbiAgdmFsdWUsXG4gIG9uRXJyb3IsXG4gIG9uU2V0dGxlZCxcbiAgb25TdWNjZXNzXG59ID0ge30pIHtcbiAgY29uc3QgeyBjaGFpbjogYWN0aXZlQ2hhaW4gfSA9IHVzZU5ldHdvcmsoKTtcbiAgY29uc3QgeyBkYXRhOiB3YWxsZXRDbGllbnQgfSA9IHVzZVdhbGxldENsaWVudCh7IGNoYWluSWQgfSk7XG4gIGNvbnN0IHByZXBhcmVTZW5kVHJhbnNhY3Rpb25RdWVyeSA9IHVzZVF1ZXJ5KFxuICAgIHF1ZXJ5S2V5MTQoe1xuICAgICAgYWNjZXNzTGlzdCxcbiAgICAgIGFjdGl2ZUNoYWluSWQ6IGFjdGl2ZUNoYWluPy5pZCxcbiAgICAgIGFjY291bnQsXG4gICAgICBjaGFpbklkLFxuICAgICAgZGF0YSxcbiAgICAgIGdhcyxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICBub25jZSxcbiAgICAgIHNjb3BlS2V5LFxuICAgICAgdG8sXG4gICAgICB2YWx1ZSxcbiAgICAgIHdhbGxldENsaWVudEFkZHJlc3M6IHdhbGxldENsaWVudD8uYWNjb3VudC5hZGRyZXNzXG4gICAgfSksXG4gICAgcXVlcnlGbjE0KHsgd2FsbGV0Q2xpZW50IH0pLFxuICAgIHtcbiAgICAgIGNhY2hlVGltZSxcbiAgICAgIGVuYWJsZWQ6IEJvb2xlYW4oZW5hYmxlZCAmJiB3YWxsZXRDbGllbnQgJiYgdG8pLFxuICAgICAgc3RhbGVUaW1lLFxuICAgICAgc3VzcGVuc2UsXG4gICAgICBvbkVycm9yLFxuICAgICAgb25TZXR0bGVkLFxuICAgICAgb25TdWNjZXNzXG4gICAgfVxuICApO1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcmVwYXJlU2VuZFRyYW5zYWN0aW9uUXVlcnksIHtcbiAgICBjb25maWc6IHtcbiAgICAgIG1vZGU6IFwicHJlcGFyZWRcIixcbiAgICAgIC4uLnByZXBhcmVTZW5kVHJhbnNhY3Rpb25RdWVyeS5pc1N1Y2Nlc3MgPyBwcmVwYXJlU2VuZFRyYW5zYWN0aW9uUXVlcnkuZGF0YSA6IHZvaWQgMFxuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9ob29rcy90cmFuc2FjdGlvbnMvdXNlU2VuZFRyYW5zYWN0aW9uLnRzXG5pbXBvcnQgeyBzZW5kVHJhbnNhY3Rpb24gfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MjAgZnJvbSBcInJlYWN0XCI7XG52YXIgbXV0YXRpb25LZXk3ID0gKGFyZ3MpID0+IFt7IGVudGl0eTogXCJzZW5kVHJhbnNhY3Rpb25cIiwgLi4uYXJncyB9XTtcbnZhciBtdXRhdGlvbkZuNyA9ICh7XG4gIGFjY2Vzc0xpc3QsXG4gIGFjY291bnQsXG4gIGNoYWluSWQsXG4gIGRhdGEsXG4gIGdhcyxcbiAgZ2FzUHJpY2UsXG4gIG1heEZlZVBlckdhcyxcbiAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gIG1vZGUsXG4gIG5vbmNlLFxuICB0byxcbiAgdmFsdWVcbn0pID0+IHtcbiAgaWYgKCF0bylcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0byBpcyByZXF1aXJlZC5cIik7XG4gIHJldHVybiBzZW5kVHJhbnNhY3Rpb24oe1xuICAgIGFjY2Vzc0xpc3QsXG4gICAgYWNjb3VudCxcbiAgICBjaGFpbklkLFxuICAgIGRhdGEsXG4gICAgZ2FzLFxuICAgIGdhc1ByaWNlLFxuICAgIG1heEZlZVBlckdhcyxcbiAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICBtb2RlLFxuICAgIG5vbmNlLFxuICAgIHRvLFxuICAgIHZhbHVlXG4gIH0pO1xufTtcbmZ1bmN0aW9uIHVzZVNlbmRUcmFuc2FjdGlvbih7XG4gIGFjY2Vzc0xpc3QsXG4gIGFjY291bnQsXG4gIGNoYWluSWQsXG4gIGRhdGE6IGRhdGFfLFxuICBnYXMsXG4gIGdhc1ByaWNlLFxuICBtYXhGZWVQZXJHYXMsXG4gIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICBtb2RlLFxuICBub25jZSxcbiAgdG8sXG4gIHZhbHVlLFxuICBvbkVycm9yLFxuICBvbk11dGF0ZSxcbiAgb25TZXR0bGVkLFxuICBvblN1Y2Nlc3Ncbn0gPSB7fSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIG11dGF0ZSxcbiAgICBtdXRhdGVBc3luYyxcbiAgICByZXNldCxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH0gPSB1c2VNdXRhdGlvbihcbiAgICBtdXRhdGlvbktleTcoe1xuICAgICAgYWNjZXNzTGlzdCxcbiAgICAgIGFjY291bnQsXG4gICAgICBjaGFpbklkLFxuICAgICAgZGF0YTogZGF0YV8sXG4gICAgICBnYXMsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgbW9kZSxcbiAgICAgIG5vbmNlLFxuICAgICAgdG8sXG4gICAgICB2YWx1ZVxuICAgIH0pLFxuICAgIG11dGF0aW9uRm43LFxuICAgIHtcbiAgICAgIG9uRXJyb3IsXG4gICAgICBvbk11dGF0ZSxcbiAgICAgIG9uU2V0dGxlZCxcbiAgICAgIG9uU3VjY2Vzc1xuICAgIH1cbiAgKTtcbiAgY29uc3Qgc2VuZFRyYW5zYWN0aW9uMiA9IFJlYWN0MjAudXNlQ2FsbGJhY2soXG4gICAgKGFyZ3MpID0+IG11dGF0ZSh7XG4gICAgICBjaGFpbklkLFxuICAgICAgbW9kZSxcbiAgICAgIC4uLmFyZ3MgfHwge1xuICAgICAgICBhY2Nlc3NMaXN0LFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBjaGFpbklkLFxuICAgICAgICBkYXRhOiBkYXRhXyxcbiAgICAgICAgZ2FzLFxuICAgICAgICBnYXNQcmljZSxcbiAgICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgbW9kZSxcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICB0b1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtcbiAgICAgIGFjY2Vzc0xpc3QsXG4gICAgICBhY2NvdW50LFxuICAgICAgY2hhaW5JZCxcbiAgICAgIGRhdGFfLFxuICAgICAgZ2FzLFxuICAgICAgZ2FzUHJpY2UsXG4gICAgICBtYXhGZWVQZXJHYXMsXG4gICAgICBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgIG1vZGUsXG4gICAgICBtdXRhdGUsXG4gICAgICBub25jZSxcbiAgICAgIHRvLFxuICAgICAgdmFsdWVcbiAgICBdXG4gICk7XG4gIGNvbnN0IHNlbmRUcmFuc2FjdGlvbkFzeW5jID0gUmVhY3QyMC51c2VDYWxsYmFjayhcbiAgICAoYXJncykgPT4gbXV0YXRlQXN5bmMoe1xuICAgICAgY2hhaW5JZCxcbiAgICAgIG1vZGUsXG4gICAgICAuLi5hcmdzIHx8IHtcbiAgICAgICAgYWNjZXNzTGlzdCxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgZGF0YTogZGF0YV8sXG4gICAgICAgIGdhcyxcbiAgICAgICAgZ2FzUHJpY2UsXG4gICAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgIG1vZGUsXG4gICAgICAgIG5vbmNlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdG9cbiAgICAgIH1cbiAgICB9KSxcbiAgICBbXG4gICAgICBhY2Nlc3NMaXN0LFxuICAgICAgYWNjb3VudCxcbiAgICAgIGNoYWluSWQsXG4gICAgICBkYXRhXyxcbiAgICAgIGdhcyxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICBtb2RlLFxuICAgICAgbXV0YXRlQXN5bmMsXG4gICAgICBub25jZSxcbiAgICAgIHRvLFxuICAgICAgdmFsdWVcbiAgICBdXG4gICk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgICBpc0Vycm9yLFxuICAgIGlzSWRsZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTdWNjZXNzLFxuICAgIHJlc2V0LFxuICAgIHNlbmRUcmFuc2FjdGlvbjogbW9kZSA9PT0gXCJwcmVwYXJlZFwiICYmICF0byA/IHZvaWQgMCA6IHNlbmRUcmFuc2FjdGlvbjIsXG4gICAgc2VuZFRyYW5zYWN0aW9uQXN5bmM6IG1vZGUgPT09IFwicHJlcGFyZWRcIiAmJiAhdG8gPyB2b2lkIDAgOiBzZW5kVHJhbnNhY3Rpb25Bc3luYyxcbiAgICBzdGF0dXMsXG4gICAgdmFyaWFibGVzXG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy90cmFuc2FjdGlvbnMvdXNlVHJhbnNhY3Rpb24udHNcbmltcG9ydCB7IGZldGNoVHJhbnNhY3Rpb24gfSBmcm9tIFwiQHdhZ21pL2NvcmVcIjtcbmZ1bmN0aW9uIHF1ZXJ5S2V5MTUoeyBjaGFpbklkLCBoYXNoLCBzY29wZUtleSB9KSB7XG4gIHJldHVybiBbeyBlbnRpdHk6IFwidHJhbnNhY3Rpb25cIiwgY2hhaW5JZCwgaGFzaCwgc2NvcGVLZXkgfV07XG59XG5mdW5jdGlvbiBxdWVyeUZuMTUoe1xuICBxdWVyeUtleTogW3sgY2hhaW5JZCwgaGFzaCB9XVxufSkge1xuICBpZiAoIWhhc2gpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaGFzaCBpcyByZXF1aXJlZFwiKTtcbiAgcmV0dXJuIGZldGNoVHJhbnNhY3Rpb24oeyBjaGFpbklkLCBoYXNoIH0pO1xufVxuZnVuY3Rpb24gdXNlVHJhbnNhY3Rpb24oe1xuICBjYWNoZVRpbWUgPSAwLFxuICBjaGFpbklkOiBjaGFpbklkXyxcbiAgZW5hYmxlZCA9IHRydWUsXG4gIGhhc2gsXG4gIHNjb3BlS2V5LFxuICBzdGFsZVRpbWUsXG4gIHN1c3BlbnNlLFxuICBvbkVycm9yLFxuICBvblNldHRsZWQsXG4gIG9uU3VjY2Vzc1xufSA9IHt9KSB7XG4gIGNvbnN0IGNoYWluSWQgPSB1c2VDaGFpbklkKHsgY2hhaW5JZDogY2hhaW5JZF8gfSk7XG4gIHJldHVybiB1c2VRdWVyeShxdWVyeUtleTE1KHsgY2hhaW5JZCwgaGFzaCwgc2NvcGVLZXkgfSksIHF1ZXJ5Rm4xNSwge1xuICAgIGNhY2hlVGltZSxcbiAgICBlbmFibGVkOiBCb29sZWFuKGVuYWJsZWQgJiYgaGFzaCksXG4gICAgc3RhbGVUaW1lLFxuICAgIHN1c3BlbnNlLFxuICAgIG9uRXJyb3IsXG4gICAgb25TZXR0bGVkLFxuICAgIG9uU3VjY2Vzc1xuICB9KTtcbn1cblxuLy8gc3JjL2hvb2tzL3RyYW5zYWN0aW9ucy91c2VXYWl0Rm9yVHJhbnNhY3Rpb24udHNcbmltcG9ydCB7IHdhaXRGb3JUcmFuc2FjdGlvbiB9IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuZnVuY3Rpb24gcXVlcnlLZXkxNih7XG4gIGNvbmZpcm1hdGlvbnMsXG4gIGNoYWluSWQsXG4gIGhhc2gsXG4gIHNjb3BlS2V5LFxuICB0aW1lb3V0XG59KSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgZW50aXR5OiBcIndhaXRGb3JUcmFuc2FjdGlvblwiLFxuICAgICAgY29uZmlybWF0aW9ucyxcbiAgICAgIGNoYWluSWQsXG4gICAgICBoYXNoLFxuICAgICAgc2NvcGVLZXksXG4gICAgICB0aW1lb3V0XG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gcXVlcnlGbjE2KHtcbiAgb25SZXBsYWNlZFxufSkge1xuICByZXR1cm4gKHtcbiAgICBxdWVyeUtleTogW3sgY2hhaW5JZCwgY29uZmlybWF0aW9ucywgaGFzaCwgdGltZW91dCB9XVxuICB9KSA9PiB7XG4gICAgaWYgKCFoYXNoKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaGFzaCBpcyByZXF1aXJlZFwiKTtcbiAgICByZXR1cm4gd2FpdEZvclRyYW5zYWN0aW9uKHtcbiAgICAgIGNoYWluSWQsXG4gICAgICBjb25maXJtYXRpb25zLFxuICAgICAgaGFzaCxcbiAgICAgIG9uUmVwbGFjZWQsXG4gICAgICB0aW1lb3V0XG4gICAgfSk7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VXYWl0Rm9yVHJhbnNhY3Rpb24oe1xuICBjaGFpbklkOiBjaGFpbklkXyxcbiAgY29uZmlybWF0aW9ucyxcbiAgaGFzaCxcbiAgdGltZW91dCxcbiAgY2FjaGVUaW1lLFxuICBlbmFibGVkID0gdHJ1ZSxcbiAgc2NvcGVLZXksXG4gIHN0YWxlVGltZSxcbiAgc3VzcGVuc2UsXG4gIG9uRXJyb3IsXG4gIG9uUmVwbGFjZWQsXG4gIG9uU2V0dGxlZCxcbiAgb25TdWNjZXNzXG59ID0ge30pIHtcbiAgY29uc3QgY2hhaW5JZCA9IHVzZUNoYWluSWQoeyBjaGFpbklkOiBjaGFpbklkXyB9KTtcbiAgcmV0dXJuIHVzZVF1ZXJ5KFxuICAgIHF1ZXJ5S2V5MTYoeyBjaGFpbklkLCBjb25maXJtYXRpb25zLCBoYXNoLCBzY29wZUtleSwgdGltZW91dCB9KSxcbiAgICBxdWVyeUZuMTYoeyBvblJlcGxhY2VkIH0pLFxuICAgIHtcbiAgICAgIGNhY2hlVGltZSxcbiAgICAgIGVuYWJsZWQ6IEJvb2xlYW4oZW5hYmxlZCAmJiBoYXNoKSxcbiAgICAgIHN0YWxlVGltZSxcbiAgICAgIHN1c3BlbnNlLFxuICAgICAgb25FcnJvcixcbiAgICAgIG9uU2V0dGxlZCxcbiAgICAgIG9uU3VjY2Vzc1xuICAgIH1cbiAgKTtcbn1cblxuLy8gc3JjL2hvb2tzL3RyYW5zYWN0aW9ucy91c2VXYXRjaFBlbmRpbmdUcmFuc2FjdGlvbnMudHNcbmltcG9ydCAqIGFzIFJlYWN0MjEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VXYXRjaFBlbmRpbmdUcmFuc2FjdGlvbnMoe1xuICBjaGFpbklkOiBjaGFpbklkXyxcbiAgZW5hYmxlZCA9IHRydWUsXG4gIGxpc3RlbmVyXG59KSB7XG4gIGNvbnN0IGNoYWluSWQgPSB1c2VDaGFpbklkKHsgY2hhaW5JZDogY2hhaW5JZF8gfSk7XG4gIGNvbnN0IHB1YmxpY0NsaWVudCA9IHVzZVB1YmxpY0NsaWVudCh7IGNoYWluSWQgfSk7XG4gIGNvbnN0IHdlYlNvY2tldFB1YmxpY0NsaWVudCA9IHVzZVdlYlNvY2tldFB1YmxpY0NsaWVudCh7IGNoYWluSWQgfSk7XG4gIFJlYWN0MjEudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVuYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcHVibGljQ2xpZW50XyA9IHdlYlNvY2tldFB1YmxpY0NsaWVudCA/PyBwdWJsaWNDbGllbnQ7XG4gICAgcmV0dXJuIHB1YmxpY0NsaWVudF8ud2F0Y2hQZW5kaW5nVHJhbnNhY3Rpb25zKHtcbiAgICAgIG9uVHJhbnNhY3Rpb25zOiBsaXN0ZW5lclxuICAgIH0pO1xuICB9LCBbZW5hYmxlZCwgbGlzdGVuZXIsIHB1YmxpY0NsaWVudCwgd2ViU29ja2V0UHVibGljQ2xpZW50XSk7XG59XG5cbi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHtcbiAgQ2hhaW5NaXNtYXRjaEVycm9yLFxuICBDaGFpbk5vdENvbmZpZ3VyZWRFcnJvcixcbiAgQ29ubmVjdG9yLFxuICBDb25uZWN0b3JBbHJlYWR5Q29ubmVjdGVkRXJyb3IsXG4gIENvbm5lY3Rvck5vdEZvdW5kRXJyb3IsXG4gIENvbmZpZ0NoYWluc05vdEZvdW5kLFxuICBTd2l0Y2hDaGFpbk5vdFN1cHBvcnRlZEVycm9yLFxuICBjb25maWd1cmVDaGFpbnMsXG4gIGNyZWF0ZVN0b3JhZ2UgYXMgY3JlYXRlU3RvcmFnZTIsXG4gIGRlZXBFcXVhbCBhcyBkZWVwRXF1YWw1LFxuICBkZXNlcmlhbGl6ZSxcbiAgZXJjMjBBQkksXG4gIGVyYzcyMUFCSSxcbiAgZXJjNDYyNkFCSSxcbiAgcmVhZENvbnRyYWN0cyBhcyByZWFkQ29udHJhY3RzMyxcbiAgc2VyaWFsaXplXG59IGZyb20gXCJAd2FnbWkvY29yZVwiO1xuaW1wb3J0IHsgbWFpbm5ldCwgc2Vwb2xpYSB9IGZyb20gXCJ2aWVtL2NoYWluc1wiO1xuZXhwb3J0IHtcbiAgQ2hhaW5NaXNtYXRjaEVycm9yLFxuICBDaGFpbk5vdENvbmZpZ3VyZWRFcnJvcixcbiAgQ29uZmlnQ2hhaW5zTm90Rm91bmQsXG4gIENvbm5lY3RvcixcbiAgQ29ubmVjdG9yQWxyZWFkeUNvbm5lY3RlZEVycm9yLFxuICBDb25uZWN0b3JOb3RGb3VuZEVycm9yLFxuICBDb250ZXh0LFxuICBTd2l0Y2hDaGFpbk5vdFN1cHBvcnRlZEVycm9yLFxuICBXYWdtaUNvbmZpZyxcbiAgY29uZmlndXJlQ2hhaW5zLFxuICBjcmVhdGVDb25maWcsXG4gIGNyZWF0ZVN0b3JhZ2UyIGFzIGNyZWF0ZVN0b3JhZ2UsXG4gIGRlZXBFcXVhbDUgYXMgZGVlcEVxdWFsLFxuICBkZXNlcmlhbGl6ZSxcbiAgZXJjMjBBQkksXG4gIGVyYzQ2MjZBQkksXG4gIGVyYzcyMUFCSSxcbiAgbWFpbm5ldCxcbiAgcGFnaW5hdGVkSW5kZXhlc0NvbmZpZyxcbiAgcmVhZENvbnRyYWN0czMgYXMgcmVhZENvbnRyYWN0cyxcbiAgc2Vwb2xpYSxcbiAgc2VyaWFsaXplLFxuICB1c2VBY2NvdW50LFxuICB1c2VCYWxhbmNlLFxuICB1c2VCbG9ja051bWJlcixcbiAgdXNlQ2hhaW5JZCxcbiAgdXNlQ29uZmlnLFxuICB1c2VDb25uZWN0LFxuICB1c2VDb250cmFjdEV2ZW50LFxuICB1c2VDb250cmFjdEluZmluaXRlUmVhZHMsXG4gIHVzZUNvbnRyYWN0UmVhZCxcbiAgdXNlQ29udHJhY3RSZWFkcyxcbiAgdXNlQ29udHJhY3RXcml0ZSxcbiAgdXNlRGlzY29ubmVjdCxcbiAgdXNlRW5zQWRkcmVzcyxcbiAgdXNlRW5zQXZhdGFyLFxuICB1c2VFbnNOYW1lLFxuICB1c2VFbnNSZXNvbHZlcixcbiAgdXNlRmVlRGF0YSxcbiAgdXNlSW5maW5pdGVRdWVyeSxcbiAgdXNlTXV0YXRpb24sXG4gIHVzZU5ldHdvcmssXG4gIHVzZVByZXBhcmVDb250cmFjdFdyaXRlLFxuICB1c2VQcmVwYXJlU2VuZFRyYW5zYWN0aW9uLFxuICB1c2VQdWJsaWNDbGllbnQsXG4gIHVzZVF1ZXJ5LFxuICB1c2VRdWVyeUNsaWVudDIgYXMgdXNlUXVlcnlDbGllbnQsXG4gIHVzZVNlbmRUcmFuc2FjdGlvbixcbiAgdXNlU2lnbk1lc3NhZ2UsXG4gIHVzZVNpZ25UeXBlZERhdGEsXG4gIHVzZVN3aXRjaE5ldHdvcmssXG4gIHVzZVRva2VuLFxuICB1c2VUcmFuc2FjdGlvbixcbiAgdXNlV2FpdEZvclRyYW5zYWN0aW9uLFxuICB1c2VXYWxsZXRDbGllbnQsXG4gIHVzZVdhdGNoUGVuZGluZ1RyYW5zYWN0aW9ucyxcbiAgdXNlV2ViU29ja2V0UHVibGljQ2xpZW50XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wagmi/dist/index.js\n");

/***/ })

};
;